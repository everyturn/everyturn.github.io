(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/4bP":function(t,e,n){var i,a=n("bNbV"),o=n("WLGk"),r=n("cRUJ"),l=n("zMFY"),s=n("aSfN");global&&global.ArrayBuffer&&(i=n("g5Dd"));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=u||c;e.protocol=3;var m=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=a(m),h={type:"error",data:"parser error"},f=n("14A5");function y(t,e,n){for(var i=new Array(t.length),a=l(t.length,n),o=function(t,n,a){e(n,function(e,n){i[t]=n,a(e,i)})},r=0;r<t.length;r++)o(r,t[r],a)}e.encodePacket=function(t,n,i,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof i&&(a=i,i=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if(global.ArrayBuffer&&o instanceof ArrayBuffer)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var a=t.data,o=new Uint8Array(a),r=new Uint8Array(1+a.byteLength);r[0]=m[t.type];for(var l=0;l<o.length;l++)r[l+1]=o[l];return i(r.buffer)}(t,n,a);if(f&&o instanceof global.Blob)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(p)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var a=new FileReader;return a.onload=function(){t.data=a.result,e.encodePacket(t,n,!0,i)},a.readAsArrayBuffer(t.data)}(t,n,i);var a=new Uint8Array(1);return a[0]=m[t.type],i(new f([a.buffer,t.data]))}(t,n,a);if(o&&o.base64)return function(t,n){return n("b"+e.packets[t.type]+t.data.data)}(t,a);var r=m[t.type];return void 0!==t.data&&(r+=i?s.encode(String(t.data),{strict:!1}):String(t.data)),a(""+r)},e.encodeBase64Packet=function(t,n){var i,a="b"+e.packets[t.type];if(f&&t.data instanceof global.Blob){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(a+t)},o.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var r=new Uint8Array(t.data),l=new Array(r.length),s=0;s<r.length;s++)l[s]=r[s];i=String.fromCharCode.apply(null,l)}return a+=global.btoa(i),n(a)},e.decodePacket=function(t,n,i){if(void 0===t)return h;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&!1===(t=function(t){try{t=s.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return h;var a=t.charAt(0);return Number(a)==a&&d[a]?t.length>1?{type:d[a],data:t.substring(1)}:{type:d[a]}:h}a=new Uint8Array(t)[0];var o=r(t,1);return f&&"blob"===n&&(o=new f([o])),{type:d[a],data:o}},e.decodeBase64Packet=function(t,e){var n=d[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var a=i.decode(t.substr(1));return"blob"===e&&f&&(a=new f([a])),{type:n,data:a}},e.encodePayload=function(t,n,i){"function"==typeof n&&(i=n,n=null);var a=o(t);return n&&a?f&&!p?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i):t.length?void y(t,function(t,i){e.encodePacket(t,!!a&&n,!1,function(t){i(null,function(t){return t.length+":"+t}(t))})},function(t,e){return i(e.join(""))}):i("0:")},e.decodePayload=function(t,n,i){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,i);var a;if("function"==typeof n&&(i=n,n=null),""===t)return i(h,0,1);for(var o,r,l="",s=0,u=t.length;s<u;s++){var c=t.charAt(s);if(":"===c){if(""===l||l!=(o=Number(l)))return i(h,0,1);if(l!=(r=t.substr(s+1,o)).length)return i(h,0,1);if(r.length){if(a=e.decodePacket(r,n,!1),h.type===a.type&&h.data===a.data)return i(h,0,1);if(!1===i(a,s+o,u))return}s+=o,l=""}else l+=c}return""!==l?i(h,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));y(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var i=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),a=new Uint8Array(i),o=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);n=i.buffer}a[o++]=e?0:1;var l=n.byteLength.toString();for(r=0;r<l.length;r++)a[o++]=parseInt(l[r]);for(a[o++]=255,i=new Uint8Array(n),r=0;r<i.length;r++)a[o++]=i[r]}),n(a.buffer)})},e.encodePayloadAsBlob=function(t,n){y(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);t=i.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),r=new Uint8Array(o.length+1);for(a=0;a<o.length;a++)r[a]=parseInt(o[a]);if(r[o.length]=255,f){var l=new f([e.buffer,r.buffer,t]);n(null,l)}})},function(t,e){return n(new f(e))})},e.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var a=t,o=[];a.byteLength>0;){for(var l=new Uint8Array(a),s=0===l[0],u="",c=1;255!==l[c];c++){if(u.length>310)return i(h,0,1);u+=l[c]}a=r(a,2+u.length),u=parseInt(u);var p=r(a,0,u);if(s)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var m=new Uint8Array(p);for(p="",c=0;c<m.length;c++)p+=String.fromCharCode(m[c])}o.push(p),a=r(a,u)}var d=o.length;o.forEach(function(t,a){i(e.decodePacket(t,n,!0),a,d)})}},"0Grr":function(t,e,n){!function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=(function(){function t(t){var e,n;function i(e,n){try{var o=t[e](n),r=o.value;r instanceof function(t){this.value=t}?Promise.resolve(r.value).then(function(t){i("next",t)},function(t){i("throw",t)}):a(o.done?"return":"normal",o.value)}catch(t){a("throw",t)}}function a(t,a){switch(t){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,a){return new Promise(function(o,r){var l={key:t,arg:a,resolve:o,reject:r,next:null};n?n=n.next=l:(e=n=l,i(t,a))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},s=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function u(t,e){var n=!1,i=[];return e.once&&(n=!0),e.value&&(i=e.value),e.all&&(i=[].concat(s(t.ctx.playOrder))),Array.isArray(e)&&(i=e),r({},t,{ctx:r({},t.ctx,{actionPlayers:i,_actionPlayersOnce:n})})}function c(t,e){return t[e]+""}var p={DEFAULT:{first:function(t,e){return e.playOrderPos},next:function(t,e){return(e.playOrderPos+1)%e.playOrder.length}},ONCE:{first:function(){return 0},next:function(t,e){if(e.playOrderPos<e.playOrder.length-1)return e.playOrderPos+1}},ANY:{first:function(t,e){return{actionPlayers:[].concat(s(e.playOrder)),playOrderPos:e.playOrderPos}},next:function(t,e){var n=(e.playOrderPos+1)%e.playOrder.length;return{actionPlayers:[].concat(s(e.playOrder)),playOrderPos:n}}},SKIP:{first:function(t,e){return e.playOrderPos},next:function(t,e){if(!t.allPassed)for(var n=e.playOrderPos,i=0;i<e.playOrder.length;i++)if(!t.passOrder.includes(e.playOrder[n=(n+1)%e.playOrder.length]+""))return n}}};function m(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function d(t,e){var i=new function(t){var e,n=this,i=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var i=.02519603282416938*(e+=t.charCodeAt(n));i-=e=i>>>0,e=(i*=e)>>>0,e+=4294967296*(i-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=i(" "),n.s1=i(" "),n.s2=i(" "),n.s0-=i(t),n.s0<0&&(n.s0+=1),n.s1-=i(t),n.s1<0&&(n.s1+=1),n.s2-=i(t),n.s2<0&&(n.s2+=1),i=null}(t),a=e&&e.state,o=i.next;return o.quick=o,a&&("object"==(void 0===a?"undefined":n(a))&&m(a,i),o.state=function(){return m(i,{})}),o}var h=function(){function t(e){i(this,t),this.state=e._random||{seed:"0"}}return a(t,[{key:"update",value:function(t){return r({},t,{_random:this.state})}},{key:"attach",value:function(t){return r({},t,{random:this._api()})}},{key:"_random",value:function(){var t=this.state,e=void 0,n=(e=void 0===t.prngstate?new d(t.seed,{state:!0}):new d("",{state:t.prngstate}))();return this.state=r({},t,{prngstate:e.state()}),n}},{key:"_api",value:function(){var t=this._random.bind(this),e={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},n={},i=function(i){var a=e[i];n[i]=function(e){return void 0===e?Math.floor(t()*a)+1:[].concat(s(Array(e).keys())).map(function(){return Math.floor(t()*a)+1})}};for(var a in e)i(a);return r({},n,{Die:function(e,n){return void 0===e&&(e=6),void 0===n?Math.floor(t()*e)+1:[].concat(s(Array(n).keys())).map(function(){return Math.floor(t()*e)+1})},Number:function(){return t()},Shuffle:function(e){for(var n=e.slice(0),i=e.length,a=0,o=new Array(i);i;){var r=i*t()|0;o[a++]=n[r],n[r]=n[--i]}return o}})}}]),t}();h.detach=function(t){return l(t,["random"])},h.seed=function(){return(+new Date).toString(36).slice(-10)};var f=function(t,e,n,i){return{type:"GAME_EVENT",payload:{type:t,args:e,playerID:n,credentials:i},automatic:!0}},y=function(){function t(e,n){i(this,t),this.flow=e,this.playerID=n,this.dispatch=[]}return a(t,[{key:"attach",value:function(t){var e=this,n={},i=!0,a=!1,o=void 0;try{for(var l,s=function(){var t=l.value;n[t]=function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];e.dispatch.push({key:t,args:i})}},u=this.flow.eventNames[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)s()}catch(t){a=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}return r({},t,{events:n})}},{key:"update",value:function(t){var e=!0,n=!1,i=void 0;try{for(var a,o=this.dispatch[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var l=a.value,s=f(l.key,l.args,this.playerID);t=r({},t,this.flow.processGameEvent(t,s))}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return t}}]),t}();function v(t){var e=t.ctx,n=t.events,i=t.init,a=t.processMove,o=t.optimisticUpdate,l=t.canMakeMove,u=t.canUndoMove;e||(e=function(){return{}}),n||(n={}),i||(i=function(t){return t}),a||(a=function(t){return t}),l||(l=function(){return!0}),u||(u=function(){return!0}),void 0===o&&(o=function(){return!0});var c=function t(e,i){var a=i.payload;if(n.hasOwnProperty(a.type)){var o={playerID:a.playerID,dispatch:t},l=[e].concat(a.args),u=[].concat(s(e.log||[]),[i]),c=n[a.type].apply(o,l);return r({},c,{log:u})}return e};return{ctx:e,init:i,canUndoMove:u,eventNames:Object.getOwnPropertyNames(n),processMove:function(t,e){return a(t,e,c)},processGameEvent:function(t,e){return c(t,e)},optimisticUpdate:o,canPlayerCallEvent:function(t,e,n){return e.currentPlayer==n},canPlayerMakeMove:function(t,e,n){return(e.actionPlayers||[]).includes(n)},canMakeMove:function(t,e,n){return void 0===e.gameover&&l(t,e,n)}}}function b(t){var e=t.phases,n=t.movesPerTurn,i=t.endTurnIf,a=t.endGameIf,l=t.onTurnBegin,m=t.onTurnEnd,d=t.onMove,b=t.turnOrder,g=t.endTurn,x=t.endPhase,w=t.endGame,k=t.setActionPlayers,O=t.undoableMoves,_=t.allowedMoves,C=t.optimisticUpdate;void 0===x&&e&&(x=!0),void 0===g&&(g=!0),void 0===w&&(w=!1),void 0===k&&(k=!1),void 0===C&&(C=function(){return!0}),e||(e=[{name:"default"}]),i||(i=function(){return!1}),a||(a=function(){}),l||(l=function(t){return t}),m||(m=function(t){return t}),d||(d=function(t){return t}),b||(b=p.DEFAULT),void 0===_&&(_=null),void 0===O&&(O=null);for(var P=[],I={},S=0;S<e.length;S++){var A=e[S];P.push(A.name),I[A.name]=A,void 0===A.endPhaseIf&&(A.endPhaseIf=function(){return!1}),void 0===A.onPhaseBegin&&(A.onPhaseBegin=function(t){return t}),void 0===A.onPhaseEnd&&(A.onPhaseEnd=function(t){return t}),void 0===A.movesPerTurn&&(A.movesPerTurn=n),void 0===A.endTurnIf&&(A.endTurnIf=i),void 0===A.endGameIf&&(A.endGameIf=a),void 0===A.onTurnBegin&&(A.onTurnBegin=l),void 0===A.onTurnEnd&&(A.onTurnEnd=m),void 0===A.onMove&&(A.onMove=d),void 0===A.turnOrder&&(A.turnOrder=b),void 0===A.undoableMoves&&(A.undoableMoves=O),void 0===A.allowedMoves&&(A.allowedMoves=_),"function"!=typeof A.allowedMoves&&function(){var t=A.allowedMoves;A.allowedMoves=function(){return t}}()}var E=function(t){var e=t.ctx;return I[e.phase].endPhaseIf(t.G,e)},D=function(t){var e=t.ctx,n=I[e.phase];return!!(n.movesPerTurn&&(e.stats.turn.numMoves[e.currentPlayer]||0)>=n.movesPerTurn)||n.endTurnIf(t.G,e)},N=function(t,e){var n=e.onPhaseBegin(t.G,t.ctx),i=function(n,i,a){var o,l=e.turnOrder.first(t.G,i),s=c(i.playOrder,o=void 0!==l.playOrderPos?l.playOrderPos:l);return r({},i,{currentPlayer:s,playOrderPos:o,actionPlayers:void 0!==l.actionPlayers?l.actionPlayers:[s]})}(0,t.ctx);i.stats=r({},i.stats,{phase:r({},i.stats.phase,{numMoves:{},allPlayed:!1})});var a=e.allowedMoves(n,i);return r({},t,{G:n,ctx:r({},i,{allowedMoves:a})})},M=function(t,e){var n=e.onTurnBegin(t.G,t.ctx),i=t.ctx;i=h.detach(i);var a=[{G:n,ctx:i=y.detach(i)}],o=r({},t.ctx);return o.allowedMoves=e.allowedMoves(n,o),o.stats=r({},o.stats,{turn:r({},o.stats.turn,{numMoves:{},allPlayed:!1})}),r({},t,{G:n,ctx:o,_undo:a,_redo:[]})};function R(t,e,n){var i=r({},t.ctx.stats[e].numMoves,o({},n,(t.ctx.stats[e].numMoves[n]||0)+1)),a=r({},t.ctx.stats[e],{numMoves:i});Object.keys(i).length==t.ctx.numPlayers&&(a.allPlayed=!0);var l=r({},t.ctx.stats,o({},e,a)),s=r({},t.ctx,{stats:l});return r({},t,{ctx:s})}var T={};return g&&(T.endTurn=function(t,e){var n=t.G,i=t.ctx,a=I[i.phase];if(a.movesPerTurn&&(i.stats.turn.numMoves[i.currentPlayer]||0)<a.movesPerTurn)return t;n=a.onTurnEnd(n,i);var o=a.endGameIf(n,i);if(void 0!==o)return r({},t,{G:n,ctx:r({},i,{gameover:o})});var l=!1,s=function(t,e,n,i){var a=e.playOrderPos,o=e.currentPlayer,l=e.actionPlayers,s=!1;if(e.playOrder.includes(i))a=e.playOrder.indexOf(i),l=[o=i];else{var u=n.next(t,e);void 0==u?s=!0:(o=c(e.playOrder,a=void 0!==u.playOrderPos?u.playOrderPos:u),l=void 0!==u.actionPlayers?u.actionPlayers:[o])}return{endPhase:s,ctx:e=r({},e,{playOrderPos:a,currentPlayer:o,actionPlayers:l})}}(n,i,a.turnOrder,e);l=s.endPhase,i=r({},i=s.ctx,{turn:i.turn+1});var u=E(t);return u&&(l=!0),l?this.dispatch(r({},t,{G:n,ctx:i}),f("endPhase",[u],this.playerID)):M(r({},t,{G:n,ctx:i}),a)}),x&&(T.endPhase=function(t,n,i){var a=t.G,o=t.ctx,l=I[o.phase];a=l.onPhaseEnd(a,o);var s=l.endGameIf(a,o);if(void 0!==s)return r({},t,{G:a,ctx:r({},o,{gameover:s})});if(n in I)o=r({},o,{phase:n});else{var u=P.indexOf(o.phase),c=e[u=(u+1)%e.length].name;o=r({},o,{phase:c})}var p=(t=N(r({},t,{G:a,ctx:o}),I[o.phase])).ctx.turn;if(i||(i=0),i<e.length-1){var m=E(t);m&&(t=this.dispatch(t,f("endPhase",[m,i+1],this.playerID)))}var d=D(t);return d&&t.ctx.turn==p&&(t=this.dispatch(t,f("endTurn",[d],this.playerID))),t}),w&&(T.endGame=function(t,e){return void 0===e&&(e=!0),r({},t,{ctx:r({},t.ctx,{gameover:e})})}),k&&(T.setActionPlayers=u),v({ctx:function(t){return{numPlayers:t,turn:0,currentPlayer:"0",currentPlayerMoves:0,playOrder:Array.from(Array(t),function(t,e){return e+""}),playOrderPos:0,stats:{turn:{numMoves:{}},phase:{numMoves:{}}},allPlayed:!1,phase:e[0].name}},init:function(t){return function(t,e){return t=N(t,e),M(t,e)}(t,e[0])},optimisticUpdate:function(t,e,n){return(void 0===e._random||void 0===e._random.prngstate)&&C(t,e,n)},events:T,processMove:function(t,e,n){var i=I[t.ctx.phase],a=(t=R(t=R(t,"turn",e.playerID),"phase",e.playerID)).ctx.actionPlayers;if(1==t.ctx._actionPlayersOnce){var o=e.playerID;a=a.filter(function(t){return t!==o})}t=r({},t,{ctx:r({},t.ctx,{actionPlayers:a})});var l=i.onMove(t.G,t.ctx,e),u=(t=r({},t,{G:l})).ctx.turn,c=i.endGameIf(t.G,t.ctx),p=E(t);(p||void 0!==c)&&(t=n(t,f("endPhase",[p],e.playerID)),i=I[t.ctx.phase]);var m=D(t);if(t.ctx.turn!=u||!m&&void 0===c||(t=n(t,f("endTurn",[m],e.playerID))),void 0!==c)return r({},t,{ctx:r({},t.ctx,{gameover:c})});var d=i.allowedMoves(t.G,t.ctx);if(t=r({},t,{ctx:r({},t.ctx,{allowedMoves:d})}),!m){var v=t._undo||[],b=e.type,g=t.ctx;g=h.detach(g),g=y.detach(g),t=r({},t,{_undo:[].concat(s(v),[{G:t.G,ctx:g,moveType:b}]),_redo:[]})}return t},canMakeMove:function(t,e,n){var i=I[e.phase].allowedMoves(t,e);return!i||i.includes(n)},canUndoMove:function(t,e,n){var i=I[e.phase];return!i.undoableMoves||i.undoableMoves.includes(n)}})}y.detach=function(t){return l(t,["events"])};var g={STRIP_SECRETS:function(t,e,n){var i=r({},t);return void 0!==i.secret&&delete i.secret,i.players&&(i.players=o({},n,i.players[n])),i}};t.Game=function(t){var e=t.name,n=t.setup,i=t.moves,a=t.playerView,o=t.flow,l=t.seed;return void 0===e&&(e="default"),void 0===n&&(n=function(){return{}}),void 0===i&&(i={}),void 0===a&&(a=function(t){return t}),o&&void 0!==o.processGameEvent||(o=b(o||{})),{name:e,setup:n,playerView:a,flow:o,seed:l,moveNames:Object.getOwnPropertyNames(i),processMove:function(t,e,n){if(i.hasOwnProperty(e.type)){var a={playerID:e.playerID},o=[t,r({},n,{playerID:e.playerID})].concat(e.args);return i[e.type].apply(a,o)}return t}}},t.CreateGameReducer=function(t){var n=t.game,i=t.numPlayers,a=t.multiplayer;i||(i=2);var o=n.flow.ctx(i),l=n.seed;void 0===l&&(l=h.seed()),o._random={seed:l};var u=new h(o),c=u.attach(o),p={G:n.setup(c),ctx:o,log:[],_undo:[],_redo:[],_stateID:0,_initial:{}},m=new y(n.flow,o.currentPlayer);c=m.attach(c);var d=n.flow.init({G:p.G,ctx:c}),f=m.update(d).ctx;return p.G=d.G,p._undo=d._undo,p.ctx=f,p.ctx=u.update(p.ctx),p.ctx=h.detach(p.ctx),p.ctx=y.detach(p.ctx),p._initial=e.parse(e.stringify(p)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments[1];switch(e.type){case"GAME_EVENT":if(a)return t;if(null!==e.payload.playerID&&void 0!==e.payload.playerID&&!n.flow.canPlayerCallEvent(t.G,t.ctx,e.payload.playerID))return t;var i=new h(t.ctx),o=new y(n.flow,e.payload.playerID);t=r({},t,{ctx:i.attach(t.ctx)}),t=r({},t,{ctx:o.attach(t.ctx)});var l=n.flow.processGameEvent(t,e);l=o.update(l);var u=i.update(l.ctx);return u=h.detach(u),u=y.detach(u),r({},l,{ctx:u,_stateID:t._stateID+1});case"MAKE_MOVE":if(!n.moveNames.includes(e.payload.type))return t;if(!n.flow.canMakeMove(t.G,t.ctx,e.payload.type))return t;if(null!==e.payload.playerID&&void 0!==e.payload.playerID&&!n.flow.canPlayerMakeMove(t.G,t.ctx,e.payload.playerID))return t;var c=new h(t.ctx),m=new y(n.flow,e.payload.playerID),d=c.attach(t.ctx);d=m.attach(d);var f=n.processMove(t.G,e.payload,d);if(void 0===f)return t;var v=c.update(t.ctx);v=h.detach(v),v=y.detach(v),a&&!n.flow.optimisticUpdate(f,v,e.payload)&&(f=t.G);var b=[].concat(s(t.log),[e]);return t=r({},t,{G:f,ctx:v,log:b,_stateID:t._stateID+1}),a?t:(t=r({},t,{ctx:c.attach(t.ctx)}),t=r({},t,{ctx:m.attach(t.ctx)}),t=n.flow.processMove(t,e.payload),t=m.update(t),t=r({},t,{ctx:c.update(t.ctx)}),t=r({},t,{ctx:h.detach(t.ctx)}),t=r({},t,{ctx:y.detach(t.ctx)}));case"RESTORE":return e.state;case"RESET":return p;case"UNDO":var g=t._undo,x=t._redo;if(g.length<2)return t;var w=g[g.length-1],k=g[g.length-2];return n.flow.canUndoMove(t.G,t.ctx,w.moveType)?r({},t,{G:k.G,ctx:k.ctx,_undo:g.slice(0,g.length-1),_redo:[w].concat(s(x))}):t;case"REDO":var O=t._undo,_=t._redo;if(0==_.length)return t;var C=_[0];return r({},t,{G:C.G,ctx:C.ctx,_undo:[].concat(s(O),[C]),_redo:_.slice(1)});default:return t}}},t.Flow=v,t.FlowWithPhases=b,t.TurnOrder=p,t.Pass=function(t,e){var n=[];return void 0!==t.passOrder&&(n=t.passOrder),n.push(e.playerID),t=r({},t,{passOrder:n}),n.length>=e.numPlayers&&(t.allPassed=!0),t},t.PlayerView=g,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("W8Xk"))},"0yyy":function(t,e,n){t.exports=n("JO27"),t.exports.parser=n("/4bP")},"14A5":function(t,e){var n=global.BlobBuilder||global.WebKitBlobBuilder||global.MSBlobBuilder||global.MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}();function o(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var a=new Uint8Array(n.byteLength);a.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=a.buffer}t[e]=i}}}t.exports=i?a?global.Blob:function(t,e){return o(t),new Blob(t,e||{})}:n&&n.prototype.append&&n.prototype.getBlob?function(t,e){e=e||{};var i=new n;o(t);for(var a=0;a<t.length;a++)i.append(t[a]);return e.type?i.getBlob(e.type):i.getBlob()}:void 0},"1o1O":function(t,e,n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=n("gITF")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var a=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++a)}),t.splice(o,0,i)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())},"3Hso":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mzIk");e.StateContainer=i.StateContainer},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},5:function(t,e){},"6C75":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"7Hi+":function(t,e,n){var i=n("wWaW"),a=n("TypT"),o=n("/4bP"),r=n("Yvos"),l=n("Aplp"),s=n("1o1O")("engine.io-client:polling");t.exports=c;var u=null!=new(n("q/Ue"))({xdomain:!1}).responseType;function c(t){u&&!(t&&t.forceBase64)||(this.supportsBinary=!1),i.call(this,t)}r(c,i),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(t){var e=this;function n(){s("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(s("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){s("pre-pause polling complete"),--i||n()})),this.writable||(s("we are currently writing - waiting to pause"),i++,this.once("drain",function(){s("pre-pause writing complete"),--i||n()}))}else n()},c.prototype.poll=function(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(t){var e=this;s("polling got data %s",t),o.decodePayload(t,this.socket.binaryType,function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():s('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var t=this;function e(){s("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(s("transport open - closing"),e()):(s("transport not open - deferring close"),this.once("open",e))},c.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},c.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||t.sid||(t.b64=1),t=a.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},"7jRU":function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},ANjH:function(t,e,n){"use strict";n.r(e),n.d(e,"createStore",function(){return l}),n.d(e,"combineReducers",function(){return u}),n.d(e,"bindActionCreators",function(){return p}),n.d(e,"applyMiddleware",function(){return d}),n.d(e,"compose",function(){return m}),n.d(e,"__DO_NOT_USE__ActionTypes",function(){return a});var i=n("bCCX"),a={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function l(t,e,n){var r;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(l)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var s=t,u=e,c=[],p=c,m=!1;function d(){p===c&&(p=c.slice())}function h(){if(m)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(m)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return d(),p.push(t),function(){if(e){if(m)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,d();var n=p.indexOf(t);p.splice(n,1)}}}function y(t){if(!function(t){if("object"!==(void 0===t?"undefined":o(t))||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,u=s(u,t)}finally{m=!1}for(var e=c=p,n=0;n<e.length;n++)(0,e[n])();return t}return y({type:a.INIT}),(r={dispatch:y,subscribe:f,getState:h,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");s=t,y({type:a.REPLACE})}})[i.a]=function(){var t,e=f;return(t={subscribe:function(t){if("object"!==(void 0===t?"undefined":o(t))||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(h())}return n(),{unsubscribe:e(n)}}})[i.a]=function(){return this},t},r}function s(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var o=e[i];"function"==typeof t[o]&&(n[o]=t[o])}var r=Object.keys(n),l=void 0;try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:a.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){l=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(l)throw l;for(var i=!1,a={},o=0;o<r.length;o++){var u=r[o],c=t[u],p=(0,n[u])(c,e);if(void 0===p){var m=s(u,e);throw new Error(m)}a[u]=p,i=i||p!==c}return i?a:t}}function c(t,e){return function(){return e(t.apply(this,arguments))}}function p(t,e){if("function"==typeof t)return c(t,e);if("object"!==(void 0===t?"undefined":o(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":void 0===t?"undefined":o(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},a=0;a<n.length;a++){var r=n[a],l=t[r];"function"==typeof l&&(i[r]=c(l,e))}return i}function m(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=t.apply(void 0,i),l=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:o.getState,dispatch:function(){return l.apply(void 0,arguments)}},u=e.map(function(t){return t(s)});return l=m.apply(void 0,u)(o.dispatch),r({},o,{dispatch:l})}}}},Aplp:function(t,e,n){"use strict";var i,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,r={},l=0,s=0;function u(t){var e="";do{e=a[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function c(){var t=u(+new Date);return t!==i?(l=0,i=t):t+"."+u(l++)}for(;s<o;s++)r[a[s]]=s;c.encode=u,c.decode=function(t){var e=0;for(s=0;s<t.length;s++)e=e*o+r[t.charAt(s)];return e},t.exports=c},C2QD:function(t,e){function n(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},CUjz:function(t,e,n){var i,a=n("wWaW"),o=n("/4bP"),r=n("TypT"),l=n("Yvos"),s=n("Aplp"),u=n("1o1O")("engine.io-client:websocket"),c=global.WebSocket||global.MozWebSocket;if("undefined"==typeof window)try{i=n(5)}catch(t){}var p=c;function m(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=c&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(p=i),a.call(this,t)}p||"undefined"!=typeof window||(p=i),t.exports=m,l(m,a),m.prototype.name="websocket",m.prototype.supportsBinary=!0,m.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new p(t,e):new p(t):new p(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},m.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},m.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,i=0,a=n;i<a;i++)!function(t){o.encodePacket(t,e.supportsBinary,function(i){if(!e.usingBrowserWebSocket){var a={};t.options&&(a.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof i?global.Buffer.byteLength(i):i.length)<e.perMessageDeflate.threshold&&(a.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(i):e.ws.send(i,a)}catch(t){u("websocket closed before onclose event")}--n||(e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0))})}(t[i])},m.prototype.onClose=function(){a.prototype.onClose.call(this)},m.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},m.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||(t.b64=1),(t=r.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},m.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===m.prototype.name)}},EWab:function(t,e,n){var i=n("q/Ue"),a=n("7Hi+"),o=n("cpc2"),r=n("Yvos"),l=n("1o1O")("engine.io-client:polling-xhr");function s(){}function u(t){if(a.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,global.location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd=t.hostname!==global.location.hostname||n!==t.port,this.xs=t.secure!==e}}function c(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function p(){for(var t in c.requests)c.requests.hasOwnProperty(t)&&c.requests[t].abort()}t.exports=u,t.exports.Request=c,r(u,a),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new c(t)},u.prototype.doWrite=function(t,e){var n=this.request({method:"POST",data:t,isBinary:"string"!=typeof t&&void 0!==t}),i=this;n.on("success",e),n.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=n},u.prototype.doPoll=function(){l("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},o(c.prototype),c.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{l("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&e.setRequestHeader(a,this.extraHeaders[a])}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},l("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}global.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},c.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},c.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,t)try{this.xhr.abort()}catch(t){}global.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},c.prototype.hasXDR=function(){return void 0!==global.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},global.document&&(global.attachEvent?global.attachEvent("onunload",p):global.addEventListener&&global.addEventListener("beforeunload",p,!1))},FGiv:function(t,e){var n=1e3,i=6e4,a=36e5,o=24*a;function r(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var l,s=typeof t;if("string"===s&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*a;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(t);if("number"===s&&!1===isNaN(t))return e.long?r(l=t,o,"day")||r(l,a,"hour")||r(l,i,"minute")||r(l,n,"second")||l+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=a?Math.round(t/a)+"h":t>=i?Math.round(t/i)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},FYgB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("G7qK");e.OnceSignal=i.OnceSignal;var a=n("aQYd");e.Signal=a.Signal;var o=n("hn5y");e.Slot=o.Slot;var r=n("YNOS");e.SlotList=r.SlotList},G0vE:function(t,e,n){var i=n("flNN"),a=n("TFTZ"),o=Object.prototype.toString,r="function"==typeof global.Blob||"[object BlobConstructor]"===o.call(global.Blob),l="function"==typeof global.File||"[object FileConstructor]"===o.call(global.File);e.deconstructPacket=function(t){var e=[],n=t;return n.data=function t(e,n){if(!e)return e;if(a(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(i(e)){for(var r=new Array(e.length),l=0;l<e.length;l++)r[l]=t(e[l],n);return r}if("object"==typeof e&&!(e instanceof Date)){for(var s in r={},e)r[s]=t(e[s],n);return r}return e}(t.data,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(i(e))for(var a=0;a<e.length;a++)e[a]=t(e[a],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(s,u,c){if(!s)return s;if(r&&s instanceof Blob||l&&s instanceof File){n++;var p=new FileReader;p.onload=function(){c?c[u]=this.result:o=this.result,--n||e(o)},p.readAsArrayBuffer(s)}else if(i(s))for(var m=0;m<s.length;m++)t(s[m],m,s);else if("object"==typeof s&&!a(s))for(var d in s)t(s[d],d,s)}(o),n||e(o)}},G7qK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("YNOS"),a=n("hn5y");e.OnceSignal=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.slots=i.SlotList.NIL,this.valueClasses=1===t.length&&t[0]instanceof Array?t[0]:t}return Object.defineProperty(t.prototype,"valueClasses",{get:function(){return this._valueClasses},set:function(t){this._valueClasses=t?t.slice():[];for(var e=this._valueClasses.length;e--;)if(!(this._valueClasses[e]instanceof Object))throw new Error("Invalid valueClasses argument: item at index "+e+" should be a Class but was:<"+this._valueClasses[e]+">."+this._valueClasses[e])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numListeners",{get:function(){return this.slots.length},enumerable:!0,configurable:!0}),t.prototype.addOnce=function(t){return this.registerListener(t,!0)},t.prototype.once=function(t){return this.addOnce(t)},t.prototype.remove=function(t){var e=this.slots.find(t);return e?(this.slots=this.slots.filterNot(t),e):null},t.prototype.removeAll=function(){this.slots=i.SlotList.NIL},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._valueClasses.length,i=t.length;if(i<n)throw new Error("Incorrect number of arguments. Expected at least "+n+" but received "+i+".");for(var a=0;a<n;a++)if(!(null===t[a]||t[a]instanceof this._valueClasses[a]||t[a].constructor===this._valueClasses[a]))throw new Error("Value object <"+t[a]+"> is not an instance of <"+this._valueClasses[a]+">.");var o=this.slots;if(o.nonEmpty)for(;o.nonEmpty;)o.head.execute(t),o=o.tail},t.prototype.registerListener=function(t,e){if(void 0===e&&(e=!1),this.registrationPossible(t,e)){var n=new a.Slot(t,this,e);return this.slots=this.slots.prepend(n),n}return this.slots.find(t)},t.prototype.registrationPossible=function(t,e){if(!this.slots.nonEmpty)return!0;var n=this.slots.find(t);if(!n)return!0;if(n.once!==e)throw new Error("You cannot addOnce() then add() the same listener without removing the relationship first.");return!1},t}()},JO27:function(t,e,n){var i=n("exdR"),a=n("cpc2"),o=n("1o1O")("engine.io-client:socket"),r=n("7jRU"),l=n("/4bP"),s=n("Uxeu"),u=n("TypT");function c(t,e){if(!(this instanceof c))return new c(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=s(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=s(e.host).host),this.secure=null!=e.secure?e.secure:global.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(global.location?location.hostname:"localhost"),this.port=e.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode;var n="object"==typeof global&&global;n.global===n&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=c,c.priorWebsocketSuccess=!1,a(c.prototype),c.protocol=l.protocol,c.Socket=c,c.Transport=n("wWaW"),c.transports=n("exdR"),c.parser=n("/4bP"),c.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=l.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},c.prototype.open=function(){var t;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},c.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},c.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function a(){i.onlyBinaryUpgrades&&(n=n||!this.supportsBinary&&i.transport.supportsBinary),n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(a){if(!n)if("pong"===a.type&&"probe"===a.data){if(o('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;c.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),m(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())})}else{o('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=e.name,i.emit("upgradeError",r)}}))}function r(){n||(n=!0,m(),e.close(),e=null)}function l(n){var a=new Error("probe error: "+n);a.transport=e.name,r(),o('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",a)}function s(){l("transport closed")}function u(){l("socket closed")}function p(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),r())}function m(){e.removeListener("open",a),e.removeListener("error",l),e.removeListener("close",s),i.removeListener("close",u),i.removeListener("upgrading",p)}c.priorWebsocketSuccess=!1,e.once("open",a),e.once("error",l),e.once("close",s),this.once("close",u),this.once("upgrading",p),e.open()},c.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},c.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},c.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},c.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},c.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:t,data:e,options:n};this.emit("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}},c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},c.prototype.onError=function(t){o("socket error %j",t),c.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},c.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},c.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~r(this.transports,t[n])&&e.push(t[n]);return e}},KAkR:function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},NbP2:function(t,e,n){"use strict";function i(t){if(this.offset=0,t instanceof ArrayBuffer)this.buffer=t,this.view=new DataView(this.buffer);else{if(!ArrayBuffer.isView(t))throw new Error("Invalid argument");this.buffer=t.buffer,this.view=new DataView(this.buffer,t.byteOffset,t.byteLength)}}i.prototype.array=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this.parse();return e},i.prototype.map=function(t){for(var e={},n=0;n<t;n++)e[this.parse()]=this.parse();return e},i.prototype.str=function(t){var e=function(t,e,n){for(var i="",a=0,o=e,r=e+n;o<r;o++){var l=t.getUint8(o);if(0!=(128&l))if(192!=(224&l))if(224!=(240&l)){if(240!=(248&l))throw new Error("Invalid byte "+l.toString(16));(a=(7&l)<<18|(63&t.getUint8(++o))<<12|(63&t.getUint8(++o))<<6|(63&t.getUint8(++o))<<0)>=65536?(a-=65536,i+=String.fromCharCode(55296+(a>>>10),56320+(1023&a))):i+=String.fromCharCode(a)}else i+=String.fromCharCode((15&l)<<12|(63&t.getUint8(++o))<<6|(63&t.getUint8(++o))<<0);else i+=String.fromCharCode((31&l)<<6|63&t.getUint8(++o));else i+=String.fromCharCode(l)}return i}(this.view,this.offset,t);return this.offset+=t,e},i.prototype.bin=function(t){var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},i.prototype.parse=function(){var t,e=this.view.getUint8(this.offset++),n=0,i=0,a=0,o=0;if(e<192)return e<128?e:e<144?this.map(15&e):e<160?this.array(15&e):this.str(31&e);if(e>223)return-1*(255-e+1);switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this.view.getUint8(this.offset),this.offset+=1,this.bin(n);case 197:return n=this.view.getUint16(this.offset),this.offset+=2,this.bin(n);case 198:return n=this.view.getUint32(this.offset),this.offset+=4,this.bin(n);case 199:return n=this.view.getUint8(this.offset),i=this.view.getInt8(this.offset+1),this.offset+=2,[i,this.bin(n)];case 200:return n=this.view.getUint16(this.offset),i=this.view.getInt8(this.offset+2),this.offset+=3,[i,this.bin(n)];case 201:return n=this.view.getUint32(this.offset),i=this.view.getInt8(this.offset+4),this.offset+=5,[i,this.bin(n)];case 202:return t=this.view.getFloat32(this.offset),this.offset+=4,t;case 203:return t=this.view.getFloat64(this.offset),this.offset+=8,t;case 204:return t=this.view.getUint8(this.offset),this.offset+=1,t;case 205:return t=this.view.getUint16(this.offset),this.offset+=2,t;case 206:return t=this.view.getUint32(this.offset),this.offset+=4,t;case 207:return a=this.view.getUint32(this.offset)*Math.pow(2,32),o=this.view.getUint32(this.offset+4),this.offset+=8,a+o;case 208:return t=this.view.getInt8(this.offset),this.offset+=1,t;case 209:return t=this.view.getInt16(this.offset),this.offset+=2,t;case 210:return t=this.view.getInt32(this.offset),this.offset+=4,t;case 211:return a=this.view.getInt32(this.offset)*Math.pow(2,32),o=this.view.getUint32(this.offset+4),this.offset+=8,a+o;case 212:return i=this.view.getInt8(this.offset),this.offset+=1,0===i?void(this.offset+=1):[i,this.bin(1)];case 213:return i=this.view.getInt8(this.offset),this.offset+=1,[i,this.bin(2)];case 214:return i=this.view.getInt8(this.offset),this.offset+=1,[i,this.bin(4)];case 215:return i=this.view.getInt8(this.offset),this.offset+=1,0===i?(a=this.view.getInt32(this.offset)*Math.pow(2,32),o=this.view.getUint32(this.offset+4),this.offset+=8,new Date(a+o)):[i,this.bin(8)];case 216:return i=this.view.getInt8(this.offset),this.offset+=1,[i,this.bin(16)];case 217:return n=this.view.getUint8(this.offset),this.offset+=1,this.str(n);case 218:return n=this.view.getUint16(this.offset),this.offset+=2,this.str(n);case 219:return n=this.view.getUint32(this.offset),this.offset+=4,this.str(n);case 220:return n=this.view.getUint16(this.offset),this.offset+=2,this.array(n);case 221:return n=this.view.getUint32(this.offset),this.offset+=4,this.array(n);case 222:return n=this.view.getUint16(this.offset),this.offset+=2,this.map(n);case 223:return n=this.view.getUint32(this.offset),this.offset+=4,this.map(n)}throw new Error("Could not parse")},t.exports=function(t){var e=new i(t),n=e.parse();if(e.offset!==t.byteLength)throw new Error(t.byteLength-e.offset+" trailing bytes");return n}},QAoe:function(t,e,n){"use strict";t.exports=function(){function t(t){void 0===t&&(t=!1),this.running=!1,this.now="undefined"!=typeof window&&window.performance&&window.performance.now&&window.performance.now.bind(window.performance)||Date.now,this.start(t)}return t.prototype.start=function(t){void 0===t&&(t=!1),this.deltaTime=0,this.currentTime=this.now(),this.elapsedTime=0,this.running=!0,t&&(this._interval=setInterval(this.tick.bind(this),1e3/60))},t.prototype.stop=function(){this.running=!1,this._interval&&clearInterval(this._interval)},t.prototype.tick=function(t){void 0===t&&(t=this.now()),this.deltaTime=t-this.currentTime,this.currentTime=t,this.elapsedTime+=this.deltaTime},t}()},QN7Q:function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},"QW+4":function(t,e){ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return null!==t&&"object"==typeof t&&t.buffer instanceof ArrayBuffer})},RN1w:function(t,e){var n;n=function(){"use strict";var t={},e=16;function n(){this.a=0,this.b=0,this.i=0,this.z=new Array(e)}n.prototype.init=function(t,n){var i,a,o=0,r=0;for(i=0;i<e;i++)o=o+(a=t[n+i])&65535,r=r+(e-i)*a&65535,this.z[i]=a;this.a=65535&o,this.b=65535&r,this.i=0},n.prototype.next=function(t){var n=this.z[this.i];this.z[this.i]=t,this.i=this.i+1&e-1,this.a=this.a-n+t&65535,this.b=this.b-e*n+this.a&65535},n.prototype.value=function(){return(65535&this.a|(65535&this.b)<<16)>>>0};var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~".split("").map(function(t){return t.charCodeAt(0)}),a=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,36,-1,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,-1,-1,-1,63,-1];function o(t){this.a=t,this.pos=0}function r(){this.a=[]}function l(t){var e,n;for(e=1,n=64;t>=n;e++,n<<=6);return e}function s(t){for(var e=0,n=0,i=0,a=0,o=0,r=t.length;r>=16;)e=(e=(e=(e=e+t[o+0]|0)+t[o+4]|0)+t[o+8]|0)+t[o+12]|0,n=(n=(n=(n=n+t[o+1]|0)+t[o+5]|0)+t[o+9]|0)+t[o+13]|0,i=(i=(i=(i=i+t[o+2]|0)+t[o+6]|0)+t[o+10]|0)+t[o+14]|0,a=(a=(a=(a=a+t[o+3]|0)+t[o+7]|0)+t[o+11]|0)+t[o+15]|0,o+=16,r-=16;for(;r>=4;)e=e+t[o+0]|0,n=n+t[o+1]|0,i=i+t[o+2]|0,a=a+t[o+3]|0,o+=4,r-=4;switch(a=((a+(i<<8)|0)+(n<<16)|0)+(e<<24)|0,r){case 3:a=a+(t[o+2]<<8)|0;case 2:a=a+(t[o+1]<<16)|0;case 1:a=a+(t[o+0]<<24)|0}return a>>>0}return o.prototype.haveBytes=function(){return this.pos<this.a.length},o.prototype.getByte=function(){var t=this.a[this.pos];if(this.pos++,this.pos>this.a.length)throw new RangeError("out of bounds");return t},o.prototype.getChar=function(){return String.fromCharCode(this.getByte())},o.prototype.getInt=function(){for(var t,e=0;this.haveBytes()&&(t=a[127&this.getByte()])>=0;)e=(e<<6)+t;return this.pos--,e>>>0},r.prototype.toArray=function(){return this.a},r.prototype.putByte=function(t){this.a.push(255&t)},r.prototype.putChar=function(t){this.putByte(t.charCodeAt(0))},r.prototype.putInt=function(t){var e,n,a=[];if(0!==t){for(e=0;t>0;e++,t>>>=6)a.push(i[63&t]);for(n=e-1;n>=0;n--)this.putByte(a[n])}else this.putChar("0")},r.prototype.putArray=function(t,e,n){for(var i=e;i<n;i++)this.a.push(t[i])},t.create=function(t,i){var a,o=new r,u=i.length,c=t.length,p=-1;if(o.putInt(u),o.putChar("\n"),c<=e)return o.putInt(u),o.putChar(":"),o.putArray(i,0,u),o.putInt(s(i)),o.putChar(";"),o.toArray();var m=Math.ceil(c/e),d=new Array(m),h=new Array(m);for(a=0;a<d.length;a++)d[a]=-1;for(a=0;a<h.length;a++)h[a]=-1;var f,y=new n;for(a=0;a<c-e;a+=e)y.init(t,a),f=y.value()%m,d[a/e]=h[f],h[f]=a/e;for(var v,b,g,x,w,k=0;k+e<u;)for(x=0,w=0,y.init(i,k),a=0,g=0;;){var O=250;for(b=h[f=y.value()%m];b>=0&&O-- >0;){var _,C,P,I,S,A,E;for(I=0,A=v=b*e,E=k+a;A<c&&E<u&&t[A]===i[E];I++,A++,E++);for(I--,S=1;S<v&&S<=a&&t[v-S]===i[k+a-S];S++);C=v- --S,P=a-S,(_=I+S+1)>=l(a-S)+l(_)+l(C)+3&&_>g&&(g=_,x=v-S,w=P),b=d[b]}if(g>0){w>0&&(o.putInt(w),o.putChar(":"),o.putArray(i,k,k+w),k+=w),k+=g,o.putInt(g),o.putChar("@"),o.putInt(x),o.putChar(","),x+g-1>p&&(p=x+g-1),g=0;break}if(k+a+e>=u){o.putInt(u-k),o.putChar(":"),o.putArray(i,k,k+u-k),k=u;break}y.next(i[k+a+e]),a++}return k<u&&(o.putInt(u-k),o.putChar(":"),o.putArray(i,k,k+u-k)),o.putInt(s(i)),o.putChar(";"),o.toArray()},t.outputSize=function(t){var e=new o(t),n=e.getInt();if("\n"!==e.getChar())throw new Error("size integer not terminated by '\\n'");return n},t.apply=function(t,e,n){var i,a=0,l=new o(e),u=t.length,c=e.length;if(i=l.getInt(),"\n"!==l.getChar())throw new Error("size integer not terminated by '\\n'");for(var p=new r;l.haveBytes();){var m,d;switch(m=l.getInt(),l.getChar()){case"@":if(d=l.getInt(),l.haveBytes()&&","!==l.getChar())throw new Error("copy command not terminated by ','");if((a+=m)>i)throw new Error("copy exceeds output file size");if(d+m>u)throw new Error("copy extends past end of input");p.putArray(t,d,d+m);break;case":":if((a+=m)>i)throw new Error("insert command gives an output larger than predicted");if(m>c)throw new Error("insert count exceeds size of delta");p.putArray(l.a,l.pos,l.pos+m),l.pos+=m;break;case";":var h=p.toArray();if((!n||!1!==n.verifyChecksum)&&m!==s(h))throw new Error("bad checksum");if(a!==i)throw new Error("generated size does not match predicted size");return h;default:throw new Error("unknown delta operator")}}throw new Error("unterminated delta")},t},void 0!==t&&t.exports?t.exports=n():this.fossilDelta=n()},"S/KZ":function(t,e,n){"use strict";function i(){return"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}Object.defineProperty(e,"__esModule",{value:!0}),e.setItem=function(t,e){i().setItem(t,e)},e.getItem=function(t,e){var n=i().getItem(t);"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(t){return e(t)}):e(n)}},SLVX:function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return i})},TFTZ:function(t,e){t.exports=function(t){return n&&global.Buffer.isBuffer(t)||i&&(t instanceof global.ArrayBuffer||a(t))};var n="function"==typeof global.Buffer&&"function"==typeof global.Buffer.isBuffer,i="function"==typeof global.ArrayBuffer,a=i&&"function"==typeof global.ArrayBuffer.isView?global.ArrayBuffer.isView:function(t){return t.buffer instanceof global.ArrayBuffer}},TypT:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,a=n.length;i<a;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},UukH:function(t,e,n){var i=n("7Hi+"),a=n("Yvos");t.exports=u;var o,r=/\n/g,l=/\\n/g;function s(){}function u(t){i.call(this,t),this.query=this.query||{},o||(global.___eio||(global.___eio=[]),o=global.___eio),this.index=o.length;var e=this;o.push(function(t){e.onData(t)}),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=s)},!1)}a(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,a=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=s,a.method="POST",a.setAttribute("accept-charset","utf-8"),o.name="d",a.appendChild(o),document.body.appendChild(a),this.form=a,this.area=o}function u(){c(),e()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{i=document.createElement('<iframe src="javascript:0" name="'+n.iframeId+'">')}catch(t){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),c(),t=t.replace(l,"\\\n"),this.area.value=t.replace(r,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}},Uxeu:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,a=t.indexOf("["),o=t.indexOf("]");-1!=a&&-1!=o&&(t=t.substring(0,a)+t.substring(a,o).replace(/:/g,";")+t.substring(o,t.length));for(var r=n.exec(t||""),l={},s=14;s--;)l[i[s]]=r[s]||"";return-1!=a&&-1!=o&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l}},W8Xk:function(t,e,n){"use strict";n.r(e),n.d(e,"parse",function(){return a}),n.d(e,"stringify",function(){return o});var i=function(t,e){return{parse:function(e){var n=JSON.parse(e,a).map(i),o=n[0];return"object"==typeof o&&o?function e(n,i,a){return Object.keys(a).reduce(function(a,o){var r=a[o];if(r instanceof t){var l=n[r];"object"!=typeof l||i.has(l)?a[o]=l:(i.add(l),a[o]=e(n,i,l))}return a},a)}(n,new Set,o):o},stringify:function(t){for(var i,a=new Map,o=[],r=[],l=+n(a,o,t),s=function(t,r){if(i)return i=!i,r;switch(typeof r){case"object":if(null===r)return r;case e:return a.get(r)||n(a,o,r)}return r};l<o.length;l++)i=!0,r[l]=JSON.stringify(o[l],s);return"["+r.join(",")+"]"}};function n(e,n,i){var a=t(n.push(i)-1);return e.set(i,a),a}function i(e){return e instanceof t?t(e):e}function a(n,i){return typeof i===e?new t(i):i}}(String,"string");e.default=i;const a=i.parse,o=i.stringify},WLGk:function(t,e,n){var i=n("6C75"),a=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),r="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(i(e)){for(var n=0,a=e.length;n<a;n++)if(t(e[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||o&&e instanceof Blob||r&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t(e[l]))return!0;return!1}},Xq6H:function(t,e,n){var i=n("Uxeu"),a=n("1o1O")("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||global.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(a("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),a("parse %s",t),n=i(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}},YNOS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotList=function(){function t(e,n){if(void 0===n&&(n=null),this.nonEmpty=!1,e||n){if(!e)throw new Error("Parameter head cannot be null.");this.head=e,this.tail=n||t.NIL,this.nonEmpty=!0}else{if(t.NIL)throw new Error("Parameters head and tail are null. Use the NIL element instead.");this.nonEmpty=!1}}return Object.defineProperty(t.prototype,"length",{get:function(){if(!this.nonEmpty)return 0;if(this.tail===t.NIL)return 1;for(var e=0,n=this;n.nonEmpty;)++e,n=n.tail;return e},enumerable:!0,configurable:!0}),t.prototype.prepend=function(e){return new t(e,this)},t.prototype.append=function(e){if(!e)return this;if(!this.nonEmpty)return new t(e);if(this.tail===t.NIL)return new t(e).prepend(this.head);for(var n=new t(this.head),i=n,a=this.tail;a.nonEmpty;)i=i.tail=new t(a.head),a=a.tail;return i.tail=new t(e),n},t.prototype.insertWithPriority=function(e){if(!this.nonEmpty)return new t(e);var n=e.priority;if(n>this.head.priority)return this.prepend(e);for(var i=new t(this.head),a=i,o=this.tail;o.nonEmpty;){if(n>o.head.priority)return a.tail=o.prepend(e),i;a=a.tail=new t(o.head),o=o.tail}return a.tail=new t(e),i},t.prototype.filterNot=function(e){if(!this.nonEmpty||null==e)return this;if(e===this.head.listener)return this.tail;for(var n=new t(this.head),i=n,a=this.tail;a.nonEmpty;){if(a.head.listener===e)return i.tail=a.tail,n;i=i.tail=new t(a.head),a=a.tail}return this},t.prototype.contains=function(t){if(!this.nonEmpty)return!1;for(var e=this;e.nonEmpty;){if(e.head.listener===t)return!0;e=e.tail}return!1},t.prototype.find=function(t){if(!this.nonEmpty)return null;for(var e=this;e.nonEmpty;){if(e.head.listener===t)return e.head;e=e.tail}return null},t.prototype.toString=function(){for(var t="",e=this;e.nonEmpty;)t+=e.head+" -> ",e=e.tail;return"[List "+(t+="NIL")+"]"},t.NIL=new t(null,null),t}()},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Yvos:function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},ZOD7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("FYgB"),a=n("ckdo"),o=n("cihy"),r=n("zooS"),l=n("woCW"),s=n("S/KZ");e.Client=function(){function t(t){var e=this;this.onOpen=new i.Signal,this.onMessage=new i.Signal,this.onClose=new i.Signal,this.onError=new i.Signal,this.rooms={},this.connectingRooms={},this.requestId=0,this.roomsAvailableRequests={},this.hostname=t,s.getItem("colyseusid",function(t){return e.connect(t)})}return t.prototype.join=function(t,e){var n=this;void 0===e&&(e={}),e.requestId=++this.requestId;var i=this.createRoom(t,e);return i.onLeave.addOnce(function(){delete n.rooms[i.id],delete n.connectingRooms[e.requestId]}),this.connectingRooms[e.requestId]=i,this.connection.send([r.Protocol.JOIN_ROOM,t,e]),i},t.prototype.rejoin=function(t,e){return this.join(t,{sessionId:e})},t.prototype.getAvailableRooms=function(t,e){var n=this,i=++this.requestId,a=function(){return delete n.roomsAvailableRequests[i]},o=setTimeout(function(){a(),e([],"timeout")},1e4);this.connection.send([r.Protocol.ROOM_LIST,i,t]),this.roomsAvailableRequests[i]=function(t){a(),clearTimeout(o),e(t)}},t.prototype.close=function(){this.connection.close()},t.prototype.createRoom=function(t,e){return void 0===e&&(e={}),new l.Room(t,e)},t.prototype.connect=function(t){var e=this;this.id=t||"",this.connection=new o.Connection(this.buildEndpoint()),this.connection.onmessage=this.onMessageCallback.bind(this),this.connection.onclose=function(t){return e.onClose.dispatch(t)},this.connection.onerror=function(t){return e.onError.dispatch(t)},this.connection.onopen=function(){e.id&&e.onOpen.dispatch()}},t.prototype.buildEndpoint=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});var n=["colyseusid="+this.id];for(var i in e)e.hasOwnProperty(i)&&n.push(i+"="+e[i]);return this.hostname+"/"+t+"?"+n.join("&")},t.prototype.onMessageCallback=function(t){var e=a.decode(new Uint8Array(t.data)),n=e[0];if(n===r.Protocol.USER_ID)s.setItem("colyseusid",e[1]),this.id=e[1],this.onOpen.dispatch();else if(n===r.Protocol.JOIN_ROOM){var i=e[2],o=this.connectingRooms[i];if(!o)return void console.warn("colyseus.js: client left room before receiving session id.");o.id=e[1],this.rooms[o.id]=o,o.connect(this.buildEndpoint(o.id,o.options)),delete this.connectingRooms[i]}else n===r.Protocol.JOIN_ERROR?(console.error("colyseus.js: server error:",e[2]),this.onError.dispatch(e[2])):n===r.Protocol.ROOM_LIST?this.roomsAvailableRequests[e[1]]?this.roomsAvailableRequests[e[1]](e[2]):console.warn("receiving ROOM_LIST after timeout:",e[2]):this.onMessage.dispatch(e)},t}()},aQYd:function(t,e,n){"use strict";var i=n("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var a=n("G7qK");e.Signal=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.add=function(t){return this.registerListener(t)},e}(a.OnceSignal)},aSfN:function(t,e,n){(function(t){var i;!function(a){"object"==typeof global&&global;var o,r,l,s=String.fromCharCode;function u(t){for(var e,n,i=[],a=0,o=t.length;a<o;)(e=t.charCodeAt(a++))>=55296&&e<=56319&&a<o?56320==(64512&(n=t.charCodeAt(a++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),a--):i.push(e);return i}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function p(t,e){return s(t>>e&63|128)}function m(t,e){if(0==(4294967168&t))return s(t);var n="";return 0==(4294965248&t)?n=s(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),n=s(t>>12&15|224),n+=p(t,6)):0==(4292870144&t)&&(n=s(t>>18&7|240),n+=p(t,12),n+=p(t,6)),n+s(63&t|128)}function d(){if(l>=r)throw Error("Invalid byte index");var t=255&o[l];if(l++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,n;if(l>r)throw Error("Invalid byte index");if(l==r)return!1;if(e=255&o[l],l++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|d())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|d()<<6|d())>=2048)return c(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|d()<<12|d()<<6|d())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var f={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,i=u(t),a=i.length,o=-1,r="";++o<a;)r+=m(i[o],n);return r},decode:function(t,e){var n=!1!==(e=e||{}).strict;o=u(t),r=o.length,l=0;for(var i,a=[];!1!==(i=h(n));)a.push(i);return function(t){for(var e,n=t.length,i=-1,a="";++i<n;)(e=t[i])>65535&&(a+=s((e-=65536)>>>10&1023|55296),e=56320|1023&e),a+=s(e);return a}(a)}};void 0===(i=(function(){return f}).call(e,n,e,t))||(t.exports=i)}()}).call(this,n("YuTi")(t))},bCCX:function(t,e,n){"use strict";(function(t){var i,a=n("SLVX");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:t;var o=Object(a.a)(i);e.a=o}).call(this,n("3UD+")(t))},bNbV:function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},cRUJ:function(t,e){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var a=new Uint8Array(t),o=new Uint8Array(n-e),r=e,l=0;r<n;r++,l++)o[l]=a[r];return o.buffer}},cihy:function(t,e,n){"use strict";var i=n("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var a=n("gjnr"),o=n("ckdo");e.Connection=function(t){function e(e,n){void 0===n&&(n=!0);var i=t.call(this,e,void 0,{connect:n})||this;return i._enqueuedCalls=[],i}return i(e,t),e.prototype.onOpenCallback=function(e){if(t.prototype.onOpenCallback.call(this),this.binaryType="arraybuffer",this._enqueuedCalls.length>0){for(var n=0,i=this._enqueuedCalls;n<i.length;n++){var a=i[n];this[a[0]].apply(this,a[1])}this._enqueuedCalls=[]}},e.prototype.send=function(e){if(this.ws.readyState===WebSocket.OPEN)return t.prototype.send.call(this,o.encode(e));this._enqueuedCalls.push(["send",[e]])},e}(a.default)},ckdo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=n("uwJ/"),e.decode=n("NbP2")},cpc2:function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var a=0;a<i.length;a++)if((n=i[a])===e||n.fn===e){i.splice(a,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,a=(n=n.slice(0)).length;i<a;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},e7zh:function(t,e,n){var i=n("Xq6H"),a=n("vFzs"),o=n("gNA+"),r=n("1o1O")("socket.io-client");t.exports=e=s;var l=e.managers={};function s(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,a=i(t),s=a.source,u=a.id;return e.forceNew||e["force new connection"]||!1===e.multiplex||l[u]&&a.path in l[u].nsps?(r("ignoring socket cache for %s",s),n=o(s,e)):(l[u]||(r("new io instance for %s",s),l[u]=o(s,e)),n=l[u]),a.query&&!e.query&&(e.query=a.query),n.socket(a.path,e)}e.protocol=a.protocol,e.connect=s,e.Manager=n("gNA+"),e.Socket=n("l1Kj")},exdR:function(t,e,n){var i=n("q/Ue"),a=n("EWab"),o=n("UukH"),r=n("CUjz");e.polling=function(t){var e=!1,n=!1,r=!1!==t.jsonp;if(global.location){var l="https:"===location.protocol,s=location.port;s||(s=l?443:80),e=t.hostname!==location.hostname||s!==t.port,n=t.secure!==l}if(t.xdomain=e,t.xscheme=n,"open"in new i(t)&&!t.forceJSONP)return new a(t);if(!r)throw new Error("JSONP disabled");return new o(t)},e.websocket=r},flNN:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},g5Dd:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<t.length;i++)n[t.charCodeAt(i)]=i;e.encode=function(e){var n,i=new Uint8Array(e),a=i.length,o="";for(n=0;n<a;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return a%3==2?o=o.substring(0,o.length-1)+"=":a%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,i,a,o,r,l=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(l--,"="===t[t.length-2]&&l--);var c=new ArrayBuffer(l),p=new Uint8Array(c);for(e=0;e<s;e+=4)i=n[t.charCodeAt(e)],a=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],r=n[t.charCodeAt(e+3)],p[u++]=i<<2|a>>4,p[u++]=(15&a)<<4|o>>2,p[u++]=(3&o)<<6|63&r;return c}}()},gITF:function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,a=+new Date;t.diff=a-(n||a),t.prev=n,t.curr=a,n=a;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;l++;var a=e.formatters[i];return"function"==typeof a&&(n=a.call(t,o[l]),o.splice(l,1),l--),n}),e.formatArgs.call(t,o),(i.log||e.log||console.log.bind(console)).apply(t,o)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=a,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function a(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),a=i.length;for(n=0;n<a;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n("FGiv"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},"gNA+":function(t,e,n){var i=n("0yyy"),a=n("l1Kj"),o=n("cpc2"),r=n("vFzs"),l=n("KAkR"),s=n("QN7Q"),u=n("1o1O")("socket.io-client:manager"),c=n("7jRU"),p=n("C2QD"),m=Object.prototype.hasOwnProperty;function d(t,e){if(!(this instanceof d))return new d(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||r;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=d,d.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)m.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},d.prototype.updateSocketIds=function(){for(var t in this.nsps)m.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},d.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(d.prototype),d.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},d.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},d.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,a=this;this.readyState="opening",this.skipReconnect=!1;var o=l(n,"open",function(){a.onopen(),t&&t()}),r=l(n,"error",function(e){if(u("connect_error"),a.cleanup(),a.readyState="closed",a.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else a.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;u("connect attempt will timeout after %d",s);var c=setTimeout(function(){u("connect attempt timed out after %d",s),o.destroy(),n.close(),n.emit("error","timeout"),a.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(r),this},d.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(l(t,"data",s(this,"ondata"))),this.subs.push(l(t,"ping",s(this,"onping"))),this.subs.push(l(t,"pong",s(this,"onpong"))),this.subs.push(l(t,"error",s(this,"onerror"))),this.subs.push(l(t,"close",s(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",s(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(t){this.decoder.add(t)},d.prototype.ondecoded=function(t){this.emit("packet",t)},d.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},d.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new a(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",o),n.on("connect",function(){n.id=i.generateId(t)}),this.autoConnect&&o()}function o(){~c(i.connecting,n)||i.connecting.push(n)}return n},d.prototype.destroy=function(t){var e=c(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},d.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},d.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},gjnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n("ner8").createBackoff,o=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.url=e,this.protocols=n,this.reconnectEnabled=!0,this.listeners={},this.backoff=a(i.backoff||"exponential",i),this.backoff.onReady=this.onBackoffReady.bind(this),(void 0===i.connect||i.connect)&&this.open()}return i(t,[{key:"open",value:function(){this.isReconnect=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.ws&&this.ws.binaryType;this.ws=new WebSocket(this.url,this.protocols),this.ws.onclose=this.onCloseCallback.bind(this),this.ws.onerror=this.onErrorCallback.bind(this),this.ws.onmessage=this.onMessageCallback.bind(this),this.ws.onopen=this.onOpenCallback.bind(this),t&&(this.ws.binaryType=t)}},{key:"onBackoffReady",value:function(t,e){this.open(!0)}},{key:"onCloseCallback",value:function(t){!this.isReconnect&&this.listeners.onclose&&this.listeners.onclose.apply(null,arguments),this.reconnectEnabled&&t.code<3e3&&this.backoff.backoff()}},{key:"onErrorCallback",value:function(){this.listeners.onerror&&this.listeners.onerror.apply(null,arguments)}},{key:"onMessageCallback",value:function(){this.listeners.onmessage&&this.listeners.onmessage.apply(null,arguments)}},{key:"onOpenCallback",value:function(){this.listeners.onopen&&this.listeners.onopen.apply(null,arguments),this.isReconnect&&this.listeners.onreconnect&&this.listeners.onreconnect.apply(null,arguments),this.isReconnect=!1}},{key:"close",value:function(t,e){void 0===t&&(t=1e3),this.reconnectEnabled=!1,this.ws.close(t,e)}},{key:"send",value:function(t){this.ws.send(t)}},{key:"bufferedAmount",get:function(){return this.ws.bufferedAmount}},{key:"readyState",get:function(){return this.ws.readyState}},{key:"binaryType",get:function(){return this.ws.binaryType},set:function(t){this.ws.binaryType=t}},{key:"extensions",get:function(){return this.ws.extensions},set:function(t){this.ws.extensions=t}},{key:"protocol",get:function(){return this.ws.protocol},set:function(t){this.ws.protocol=t}},{key:"onclose",set:function(t){this.listeners.onclose=t},get:function(){return this.listeners.onclose}},{key:"onerror",set:function(t){this.listeners.onerror=t},get:function(){return this.listeners.onerror}},{key:"onmessage",set:function(t){this.listeners.onmessage=t},get:function(){return this.listeners.onmessage}},{key:"onopen",set:function(t){this.listeners.onopen=t},get:function(){return this.listeners.onopen}},{key:"onreconnect",set:function(t){this.listeners.onreconnect=t},get:function(){return this.listeners.onreconnect}}]),t}();o.CONNECTING=WebSocket.CONNECTING,o.OPEN=WebSocket.OPEN,o.CLOSING=WebSocket.CLOSING,o.CLOSED=WebSocket.CLOSED,e.default=o},hn5y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slot=function(){function t(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=0),this._enabled=!0,this._once=!1,this._priority=0,this._listener=t,this._once=n,this._signal=e,this._priority=i,this.verifyListener(t)}return t.prototype.execute0=function(){this._enabled&&(this._once&&this.remove(),this._params&&this._params.length?this._listener.apply(null,this._params):this._listener())},t.prototype.execute1=function(t){this._enabled&&(this._once&&this.remove(),this._params&&this._params.length?this._listener.apply(null,[t].concat(this._params)):this._listener(t))},t.prototype.execute=function(t){if(this._enabled){this._once&&this.remove(),this._params&&this._params.length&&(t=t.concat(this._params));var e=t.length;0===e?this._listener():1===e?this._listener(t[0]):2===e?this._listener(t[0],t[1]):3===e?this._listener(t[0],t[1],t[2]):this._listener.apply(null,t)}},Object.defineProperty(t.prototype,"listener",{get:function(){return this._listener},set:function(t){if(null==t)throw new Error("Given listener is null.\nDid you want to set enabled to false instead?");this.verifyListener(t),this._listener=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"once",{get:function(){return this._once},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"[Slot listener: "+this._listener+", once: "+this._once+", priority: "+this._priority+", enabled: "+this._enabled+"]"},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},set:function(t){this._params=t},enumerable:!0,configurable:!0}),t.prototype.remove=function(){this._signal.remove(this._listener)},t.prototype.verifyListener=function(t){if(null==t)throw new Error("Given listener is null.");if(null==this._signal)throw new Error("Internal signal reference has not been set yet.")},t}()},"ik1+":function(t,e,n){!function(t,e){"use strict";var n="MAKE_MOVE",i="GAME_EVENT",a="RESTORE",o="RESET",r="UNDO",l="REDO",s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(function(){function t(t){var e,n;function i(e,n){try{var o=t[e](n),r=o.value;r instanceof function(t){this.value=t}?Promise.resolve(r.value).then(function(t){i("next",t)},function(t){i("throw",t)}):a(o.done?"return":"normal",o.value)}catch(t){a("throw",t)}}function a(t,a){switch(t){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,a){return new Promise(function(o,r){var l={key:t,arg:a,resolve:o,reject:r,next:null};n?n=n.next=l:(e=n=l,i(t,a))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},d=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function y(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function v(t,e){var n=new function(t){var e,n=this,i=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var i=.02519603282416938*(e+=t.charCodeAt(n));i-=e=i>>>0,e=(i*=e)>>>0,e+=4294967296*(i-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=i(" "),n.s1=i(" "),n.s2=i(" "),n.s0-=i(t),n.s0<0&&(n.s0+=1),n.s1-=i(t),n.s1<0&&(n.s1+=1),n.s2-=i(t),n.s2<0&&(n.s2+=1),i=null}(t),i=e&&e.state,a=n.next;return a.quick=a,i&&("object"==(void 0===i?"undefined":s(i))&&y(i,n),a.state=function(){return y(n,{})}),a}var b=function(){function t(e){u(this,t),this.state=e._random||{seed:"0"}}return c(t,[{key:"update",value:function(t){return p({},t,{_random:this.state})}},{key:"attach",value:function(t){return p({},t,{random:this._api()})}},{key:"_random",value:function(){var t=this.state,e=void 0,n=(e=void 0===t.prngstate?new v(t.seed,{state:!0}):new v("",{state:t.prngstate}))();return this.state=p({},t,{prngstate:e.state()}),n}},{key:"_api",value:function(){var t=this._random.bind(this),e={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},n={},i=function(i){var a=e[i];n[i]=function(e){return void 0===e?Math.floor(t()*a)+1:[].concat(f(Array(e).keys())).map(function(){return Math.floor(t()*a)+1})}};for(var a in e)i(a);return p({},n,{Die:function(e,n){return void 0===e&&(e=6),void 0===n?Math.floor(t()*e)+1:[].concat(f(Array(n).keys())).map(function(){return Math.floor(t()*e)+1})},Number:function(){return t()},Shuffle:function(e){for(var n=e.slice(0),i=e.length,a=0,o=new Array(i);i;){var r=i*t()|0;o[a++]=n[r],n[r]=n[--i]}return o}})}}]),t}();b.detach=function(t){return d(t,["random"])},b.seed=function(){return(+new Date).toString(36).slice(-10)};var g=function(t,e,i,a){return{type:n,payload:{type:t,args:e,playerID:i,credentials:a}}},x=function(t,e,n,a){return{type:i,payload:{type:t,args:e,playerID:n,credentials:a}}},w=function(){function t(e,n){u(this,t),this.flow=e,this.playerID=n,this.dispatch=[]}return c(t,[{key:"attach",value:function(t){var e=this,n={},i=!0,a=!1,o=void 0;try{for(var r,l=function(){var t=r.value;n[t]=function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];e.dispatch.push({key:t,args:i})}},s=this.flow.eventNames[Symbol.iterator]();!(i=(r=s.next()).done);i=!0)l()}catch(t){a=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw o}}return p({},t,{events:n})}},{key:"update",value:function(t){var e=!0,n=!1,a=void 0;try{for(var o=this.dispatch[Symbol.iterator]();!(e=o.next().done);e=!0){var r={type:i,payload:{type:type,args:args,playerID:playerID,credentials:credentials},automatic:!0};t=p({},t,this.flow.processGameEvent(t,r))}}catch(t){n=!0,a=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw a}}return t}}]),t}();w.detach=function(t){return d(t,["events"])};var k=function(){function t(e){var n=this,i=e.enumerate,a=e.seed;u(this,t),this.enumerate=function(t,e,i){return n.enumerateFn(t,e,i).map(function(t){return void 0!==t.payload?t:void 0!==t.move?g(t.move,t.args,i):void 0!==t.event?x(t.event,t.args,i):void 0})},this.enumerateFn=i,this.seed=a}return c(t,[{key:"random",value:function(t){var e=void 0;if(void 0!==this.seed){var n=null;e=(n=this.prngstate?new v("",{state:this.prngstate}):new v(this.seed,{state:!0}))(),this.prngstate=n.state()}else e=Math.random();return t?t.length?t[Math.floor(e*t.length)]:Math.floor(e*t):e}}]),t}(),O=function(t){function e(){return u(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,k),c(e,[{key:"play",value:function(t,e){var n=this.enumerate(t.G,t.ctx,e);return{action:this.random(n)}}}]),e}(),_=function(t){function d(t){var s=t.enumerate,c=t.seed,m=t.objectives,y=t.game,v=t.iterations,g=t.playoutDepth;u(this,d);var x=h(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,{enumerate:s,seed:c}));return void 0===m&&(m=function(){return{}}),x.objectives=m,x.reducer=function(t){var s=t.game,u=t.numPlayers,c=t.multiplayer;u||(u=2);var m=s.flow.ctx(u),d=s.seed;void 0===d&&(d=b.seed()),m._random={seed:d};var h=new b(m),y=h.attach(m),v={G:s.setup(y),ctx:m,log:[],_undo:[],_redo:[],_stateID:0,_initial:{}},g=new w(s.flow,m.currentPlayer);y=g.attach(y);var x=s.flow.init({G:v.G,ctx:y}),k=g.update(x).ctx;return v.G=x.G,v._undo=x._undo,v.ctx=k,v.ctx=h.update(v.ctx),v.ctx=b.detach(v.ctx),v.ctx=w.detach(v.ctx),v._initial=e.parse(e.stringify(v)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments[1];switch(e.type){case i:if(c)return t;if(null!==e.payload.playerID&&void 0!==e.payload.playerID&&!s.flow.canPlayerCallEvent(t.G,t.ctx,e.payload.playerID))return t;var u=new b(t.ctx),m=new w(s.flow,e.payload.playerID);t=p({},t,{ctx:u.attach(t.ctx)}),t=p({},t,{ctx:m.attach(t.ctx)});var d=s.flow.processGameEvent(t,e);d=m.update(d);var h=u.update(d.ctx);return h=b.detach(h),h=w.detach(h),p({},d,{ctx:h,_stateID:t._stateID+1});case n:if(!s.moveNames.includes(e.payload.type))return t;if(!s.flow.canMakeMove(t.G,t.ctx,e.payload.type))return t;if(null!==e.payload.playerID&&void 0!==e.payload.playerID&&!s.flow.canPlayerMakeMove(t.G,t.ctx,e.payload.playerID))return t;var y=new b(t.ctx),g=new w(s.flow,e.payload.playerID),x=y.attach(t.ctx);x=g.attach(x);var k=s.processMove(t.G,e.payload,x);if(void 0===k)return t;var O=y.update(t.ctx);O=b.detach(O),O=w.detach(O),c&&!s.flow.optimisticUpdate(k,O,e.payload)&&(k=t.G);var _=[].concat(f(t.log),[e]);return t=p({},t,{G:k,ctx:O,log:_,_stateID:t._stateID+1}),c?t:(t=p({},t,{ctx:y.attach(t.ctx)}),t=p({},t,{ctx:g.attach(t.ctx)}),t=s.flow.processMove(t,e.payload),t=g.update(t),t=p({},t,{ctx:y.update(t.ctx)}),t=p({},t,{ctx:b.detach(t.ctx)}),t=p({},t,{ctx:w.detach(t.ctx)}));case a:return e.state;case o:return v;case r:var C=t._undo,P=t._redo;if(C.length<2)return t;var I=C[C.length-1],S=C[C.length-2];return s.flow.canUndoMove(t.G,t.ctx,I.moveType)?p({},t,{G:S.G,ctx:S.ctx,_undo:C.slice(0,C.length-1),_redo:[I].concat(f(P))}):t;case l:var A=t._undo,E=t._redo;if(0==E.length)return t;var D=E[0];return p({},t,{G:D.G,ctx:D.ctx,_undo:[].concat(f(A),[D]),_redo:E.slice(1)});default:return t}}}({game:y}),x.iterations=v||1e3,x.playoutDepth=g||50,x}return m(d,k),c(d,[{key:"createNode",value:function(t){var e=t.state,n=t.parentAction,i=t.parent,a=t.playerID,o=e.G,r=e.ctx,l=[],s=[];if(void 0!==a)l=this.enumerate(o,r,a),s=this.objectives(o,r,a);else{var u=!0,c=!1,p=void 0;try{for(var m,d=r.actionPlayers[Symbol.iterator]();!(u=(m=d.next()).done);u=!0){var h=m.value;l=l.concat(this.enumerate(o,r,h)),s=s.concat(this.objectives(o,r,h))}}catch(t){c=!0,p=t}finally{try{!u&&d.return&&d.return()}finally{if(c)throw p}}}return{state:e,parent:i,parentAction:n,actions:l,objectives:s,children:[],visits:0,value:0}}},{key:"select",value:function(t){if(t.actions.length>0)return t;if(0==t.children.length)return t;var e=null,n=0,i=!0,a=!1,o=void 0;try{for(var r,l=t.children[Symbol.iterator]();!(i=(r=l.next()).done);i=!0){var s=r.value,u=s.visits+Number.EPSILON,c=s.value/u+Math.sqrt(2*Math.log(t.visits)/u);(null==e||c>n)&&(n=c,e=s)}}catch(t){a=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return this.select(e)}},{key:"expand",value:function(t){var e=t.actions;if(0==e.length||void 0!==t.state.ctx.gameover)return t;var n=this.random(e.length),i=e[n];t.actions.splice(n,1);var a=this.reducer(t.state,i),o=this.createNode({state:a,parentAction:i,parent:t});return t.children.push(o),o}},{key:"playout",value:function(t){for(var e=this,n=t.state,i=function(t){var i=n.G,a=n.ctx,o=e.enumerate(i,a,a.actionPlayers[0]),r=e.objectives(i,a),l=Object.keys(r).reduce(function(t,e){var n=r[e];return n.checker(i,a)?t+n.weight:t},0);if(l>0)return{v:{score:l}};if(!o||0==o.length)return{v:void 0};var s=e.random(o.length),u=e.reducer(n,o[s]);n=u},a=0;a<this.playoutDepth&&void 0===n.ctx.gameover;a++){var o=i();if("object"===(void 0===o?"undefined":s(o)))return o.v}return n.ctx.gameover}},{key:"backpropagate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.visits++,void 0!==e.score&&(t.value+=e.score),!0===e.draw&&(t.value+=.5),t.parentAction&&e.winner===t.parentAction.payload.playerID&&t.value++,t.parent&&this.backpropagate(t.parent,e)}},{key:"play",value:function(t,e){for(var n=this.createNode({state:t,playerID:e}),i=0;i<this.iterations;i++){var a=this.select(n),o=this.expand(a),r=this.playout(o);this.backpropagate(o,r)}var l=null,s=!0,u=!1,c=void 0;try{for(var p,m=n.children[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var d=p.value;(null==l||d.visits>l.visits)&&(l=d)}}catch(t){u=!0,c=t}finally{try{!s&&m.return&&m.return()}finally{if(u)throw c}}return{action:l&&l.parentAction,metadata:n}}}]),d}();t.AI=function(t){var e=t.bot;return e||(e=_),{bot:e,enumerate:t.enumerate,visualize:t.visualize}},t.RandomBot=O,t.MCTSBot=_,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("W8Xk"))},kSER:function(t,e){t.exports=function(t,e){for(var n=[],i=(e=e||0)||0;i<t.length;i++)n[i-e]=t[i];return n}},kSP7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("y9Ne");function a(t,e,n,i,a){"var"===e.holderType?t[n]=i:"key"===e.holderType&&(t[n]=a)}function o(t,e,n){void 0===n&&(n=0);for(var i=t,a=0,o=e.length;a<o+n&&"object"==typeof i[e[a]];a++)i=i[e[a]];return i}e.objectListener=function(t,e,n,a,o){return function(o){if("add"===o.operation){var r=new e.type;for(var l in o.value)o.value.hasOwnProperty(l)&&(r[l]=o.value[l]);i.bindListeners(e.type.listeners,t,r),n[e.variable]=r,e.addCallback&&e.addCallback.call(a,a,r,o)}else"replace"===o.operation?a[this.rawRules[0]][e.variable]=o.value:"remove"===o.operation&&(e.removeCallback&&e.removeCallback.call(a,a,n[e.variable][o.path.id],o),delete n[e.variable])}},e.mapListener=function(t,e,n,r,l){return function(l){var s=o(r,l.rawPath);if("add"===l.operation){var u=new e.type;Object.defineProperty(u,"__mapParent",{configurable:!0,enumerable:!1,value:o(r,l.rawPath,-2),writable:!0}),i.bindListeners(e.type.listeners,t,u),s[l.path.id]=u,function(t,e,n,i){for(var o in e)e.hasOwnProperty(o)&&a(t,e[o],o,n[o],i)}(u,e.type.properties,l.value,l.path.id),e.addCallback&&e.addCallback.call(u.__mapParent,u.__mapParent,u,l)}else"replace"===l.operation?a(s,e,e.variable,l.value):"remove"===l.operation&&(e.removeCallback&&e.removeCallback.call(s.__mapParent,s.__mapParent,s,l),delete n[e.variable][l.path.id])}},e.varListener=function(t,e,n,i,r){return function(t){var n=o(i,t.rawPath);"remove"!==t.operation?a(n,e,e.variable,t.value):"remove"===t.operation&&delete n[e.variable]}}},l1Kj:function(t,e,n){var i=n("vFzs"),a=n("cpc2"),o=n("kSER"),r=n("KAkR"),l=n("QN7Q"),s=n("1o1O")("socket.io-client:socket"),u=n("TypT"),c=n("WLGk");t.exports=d;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},m=a.prototype.emit;function d(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}a(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[r(t,"open",l(this,"onopen")),r(t,"packet",l(this,"onpacket")),r(t,"close",l(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},d.prototype.emit=function(t){if(p.hasOwnProperty(t))return m.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:c(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(s("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},d.prototype.onopen=function(){if(s("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;s("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},d.prototype.onclose=function(t){s("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},d.prototype.onpacket=function(t){if(t.nsp===this.nsp||t.type===i.ERROR&&"/"===t.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},d.prototype.onevent=function(t){var e=t.data||[];s("emitting event %j",e),null!=t.id&&(s("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?m.apply(this,e):this.receiveBuffer.push(e)},d.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var a=o(arguments);s("sending ack %j",a),e.packet({type:c(a)?i.BINARY_ACK:i.ACK,id:t,data:a})}}},d.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(s("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):s("bad ack %s",t.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)m.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(t){return this.flags.compress=t,this},d.prototype.binary=function(t){return this.flags.binary=t,this}},mzIk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("oLdw");e.StateContainer=function(){function t(t){this.listeners=[],this.matcherPlaceholders={":id":/^([a-zA-Z0-9\-_]+)$/,":number":/^([0-9]+)$/,":string":/^(\w+)$/,":axis":/^([xyz])$/,":*":/(.*)/},this.state=t,this.reset()}return t.prototype.set=function(t){var e=i.compare(this.state,t);return this.state=t,this.checkPatches(e,this.listeners,this.defaultListener),e},t.prototype.registerPlaceholder=function(t,e){this.matcherPlaceholders[t]=e},t.prototype.listen=function(t,e,n){var a,o=this;"function"==typeof t?(a=[],e=t):a=t.split("/"),e.length>1&&console.warn(".listen() accepts only one parameter.");var r={callback:e,rawRules:a,rules:a.map(function(t){return"string"==typeof t?0===t.indexOf(":")?o.matcherPlaceholders[t]||o.matcherPlaceholders[":*"]:new RegExp("^"+t+"$"):t})};return 0===a.length?this.defaultListener=r:this.listeners.push(r),n&&this.checkPatches(i.compare({},this.state),[r]),r},t.prototype.removeListener=function(t){for(var e=this.listeners.length-1;e>=0;e--)this.listeners[e]===t&&this.listeners.splice(e,1)},t.prototype.removeAllListeners=function(){this.reset()},t.prototype.checkPatches=function(t,e,n){for(var i=0,a=e.length;i<a;i++)for(var o=e[i],r=t.length-1;r>=0;r--){var l=o&&this.getPathVariables(t[r],o);l&&(o.callback({path:l,rawPath:t[r].path,operation:t[r].operation,value:t[r].value}),t[r].matched=!0)}if(n)for(r=t.length-1;r>=0;r--)t[r].matched||n.callback(t[r])},t.prototype.getPathVariables=function(t,e){if(t.path.length!==e.rules.length)return!1;for(var n={},i=0,a=e.rules.length;i<a;i++){var o=t.path[i].match(e.rules[i]);if(!o||0===o.length||o.length>2)return!1;":"===e.rawRules[i].substr(0,1)&&(n[e.rawRules[i].substr(1)]=o[1])}return n},t.prototype.reset=function(){this.listeners=[]},t}()},n1QK:function(t,e,n){!function(t,e,n,i){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var a="MAKE_MOVE",o="GAME_EVENT",r="RESTORE",l="RESET",s="UNDO",u="REDO",c=function(t,e,n,i){return{type:o,payload:{type:t,args:e,playerID:n,credentials:i},automatic:!0}},p=function(t){return{type:r,state:t}},m=function(){return{type:l}},d=function(){return{type:s}},h=function(){return{type:u}},f=Object.freeze({makeMove:function(t,e,n,i){return{type:a,payload:{type:t,args:e,playerID:n,credentials:i}}},gameEvent:function(t,e,n,i){return{type:o,payload:{type:t,args:e,playerID:n,credentials:i}}},automaticGameEvent:c,restore:p,reset:m,undo:d,redo:h}),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=(function(){function t(t){var e,n;function i(e,n){try{var o=t[e](n),r=o.value;r instanceof function(t){this.value=t}?Promise.resolve(r.value).then(function(t){i("next",t)},function(t){i("throw",t)}):a(o.done?"return":"normal",o.value)}catch(t){a("throw",t)}}function a(t,a){switch(t){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,a){return new Promise(function(o,r){var l={key:t,arg:a,resolve:o,reject:r,next:null};n?n=n.next=l:(e=n=l,i(t,a))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),b=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},w=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},k=new Set([r]),O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.socket,i=e.socketOpts,a=e.gameID,o=e.playerID,r=e.gameName,l=e.numPlayers,s=e.server;v(this,t),this.server=s,this.socket=n,this.socketOpts=i,this.gameName=r||"default",this.gameID=a||"default",this.playerID=o||null,this.numPlayers=l||2,this.gameID=this.gameName+":"+this.gameID,this.isConnected=!1,this.callback=function(){}}return b(t,[{key:"createStore",value:function(t,n){var i=this;this.store=null;var a=e.applyMiddleware(function(t){var e=t.getState;return function(t){return function(n){var a=e(),o=t(n);return k.has(n.type)||1==n._remote||i.socket.emit("action",n,a._stateID,i.gameID,i.playerID),o}}});return n=n?e.compose(n,a):a,this.store=e.createStore(t,n),this.store}},{key:"connect",value:function(){var t=this;this.socket||(this.socket=n(this.server?"http://"+this.server+"/"+this.gameName:"/"+this.gameName,this.socketOpts)),this.socket.on("sync",function(e,n){if(e==t.gameID&&n._stateID>=t.store.getState()._stateID){var i=p(n);i._remote=!0,t.store.dispatch(i)}}),this.socket.emit("sync",this.gameID,this.playerID,this.numPlayers),this.socket.on("connect",function(){t.isConnected=!0,t.callback()}),this.socket.on("disconnect",function(){t.isConnected=!1,t.callback()})}},{key:"subscribe",value:function(t){this.callback=t}},{key:"updateGameID",value:function(t){this.gameID=this.gameName+":"+t;var e=m();e._remote=!0,this.store.dispatch(e),this.socket&&this.socket.emit("sync",this.gameID,this.playerID,this.numPlayers)}},{key:"updatePlayerID",value:function(t){this.playerID=t;var e=m();e._remote=!0,this.store.dispatch(e),this.socket&&this.socket.emit("sync",this.gameID,this.playerID,this.numPlayers)}}]),t}();function _(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function C(t,e){var n=new function(t){var e,n=this,i=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var i=.02519603282416938*(e+=t.charCodeAt(n));i-=e=i>>>0,e=(i*=e)>>>0,e+=4294967296*(i-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=i(" "),n.s1=i(" "),n.s2=i(" "),n.s0-=i(t),n.s0<0&&(n.s0+=1),n.s1-=i(t),n.s1<0&&(n.s1+=1),n.s2-=i(t),n.s2<0&&(n.s2+=1),i=null}(t),i=e&&e.state,a=n.next;return a.quick=a,i&&("object"==(void 0===i?"undefined":y(i))&&_(i,n),a.state=function(){return _(n,{})}),a}var P=function(){function t(e){v(this,t),this.state=e._random||{seed:"0"}}return b(t,[{key:"update",value:function(t){return g({},t,{_random:this.state})}},{key:"attach",value:function(t){return g({},t,{random:this._api()})}},{key:"_random",value:function(){var t=this.state,e=void 0,n=(e=void 0===t.prngstate?new C(t.seed,{state:!0}):new C("",{state:t.prngstate}))();return this.state=g({},t,{prngstate:e.state()}),n}},{key:"_api",value:function(){var t=this._random.bind(this),e={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},n={},i=function(i){var a=e[i];n[i]=function(e){return void 0===e?Math.floor(t()*a)+1:[].concat(w(Array(e).keys())).map(function(){return Math.floor(t()*a)+1})}};for(var a in e)i(a);return g({},n,{Die:function(e,n){return void 0===e&&(e=6),void 0===n?Math.floor(t()*e)+1:[].concat(w(Array(n).keys())).map(function(){return Math.floor(t()*e)+1})},Number:function(){return t()},Shuffle:function(e){for(var n=e.slice(0),i=e.length,a=0,o=new Array(i);i;){var r=i*t()|0;o[a++]=n[r],n[r]=n[--i]}return o}})}}]),t}();P.detach=function(t){return x(t,["random"])},P.seed=function(){return(+new Date).toString(36).slice(-10)};var I=function(){function t(e,n){v(this,t),this.flow=e,this.playerID=n,this.dispatch=[]}return b(t,[{key:"attach",value:function(t){var e=this,n={},i=!0,a=!1,o=void 0;try{for(var r,l=function(){var t=r.value;n[t]=function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];e.dispatch.push({key:t,args:i})}},s=this.flow.eventNames[Symbol.iterator]();!(i=(r=s.next()).done);i=!0)l()}catch(t){a=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw o}}return g({},t,{events:n})}},{key:"update",value:function(t){var e=!0,n=!1,i=void 0;try{for(var a,o=this.dispatch[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var r=a.value,l=c(r.key,r.args,this.playerID);t=g({},t,this.flow.processGameEvent(t,l))}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return t}}]),t}();function S(t,e,n,i,a,o){return e.reduce(function(e,r){return e[r]=function(){var e=i;o||null!==i&&void 0!==i||(e=n.getState().ctx.currentPlayer);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];n.dispatch(f[t](r,s,e,a))},e},{})}I.detach=function(t){return x(t,["events"])};var A=S.bind(null,"gameEvent"),E=S.bind(null,"makeMove"),D=function(){function t(n){var c=this,p=n.game,f=n.ai,y=n.numPlayers,b=n.multiplayer,x=n.socketOpts,k=n.gameID,O=n.playerID,_=n.credentials,C=n.enhancer;v(this,t),this.game=p,this.playerID=O,this.gameID=k,this.credentials=_;var S=void 0;if(b instanceof Object&&"server"in b&&(S=b.server,b=!0),this.multiplayer=b,this.reducer=function(t){var e=t.game,n=t.numPlayers,c=t.multiplayer;n||(n=2);var p=e.flow.ctx(n),m=e.seed;void 0===m&&(m=P.seed()),p._random={seed:m};var d=new P(p),h=d.attach(p),f={G:e.setup(h),ctx:p,log:[],_undo:[],_redo:[],_stateID:0,_initial:{}},y=new I(e.flow,p.currentPlayer);h=y.attach(h);var v=e.flow.init({G:f.G,ctx:h}),b=y.update(v).ctx;return f.G=v.G,f._undo=v._undo,f.ctx=b,f.ctx=d.update(f.ctx),f.ctx=P.detach(f.ctx),f.ctx=I.detach(f.ctx),f._initial=i.parse(i.stringify(f)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments[1];switch(n.type){case o:if(c)return t;if(null!==n.payload.playerID&&void 0!==n.payload.playerID&&!e.flow.canPlayerCallEvent(t.G,t.ctx,n.payload.playerID))return t;var i=new P(t.ctx),p=new I(e.flow,n.payload.playerID);t=g({},t,{ctx:i.attach(t.ctx)}),t=g({},t,{ctx:p.attach(t.ctx)});var m=e.flow.processGameEvent(t,n);m=p.update(m);var d=i.update(m.ctx);return d=P.detach(d),d=I.detach(d),g({},m,{ctx:d,_stateID:t._stateID+1});case a:if(!e.moveNames.includes(n.payload.type))return t;if(!e.flow.canMakeMove(t.G,t.ctx,n.payload.type))return t;if(null!==n.payload.playerID&&void 0!==n.payload.playerID&&!e.flow.canPlayerMakeMove(t.G,t.ctx,n.payload.playerID))return t;var h=new P(t.ctx),y=new I(e.flow,n.payload.playerID),v=h.attach(t.ctx);v=y.attach(v);var b=e.processMove(t.G,n.payload,v);if(void 0===b)return t;var x=h.update(t.ctx);x=P.detach(x),x=I.detach(x),c&&!e.flow.optimisticUpdate(b,x,n.payload)&&(b=t.G);var k=[].concat(w(t.log),[n]);return t=g({},t,{G:b,ctx:x,log:k,_stateID:t._stateID+1}),c?t:(t=g({},t,{ctx:h.attach(t.ctx)}),t=g({},t,{ctx:y.attach(t.ctx)}),t=e.flow.processMove(t,n.payload),t=y.update(t),t=g({},t,{ctx:h.update(t.ctx)}),t=g({},t,{ctx:P.detach(t.ctx)}),t=g({},t,{ctx:I.detach(t.ctx)}));case r:return n.state;case l:return f;case s:var O=t._undo,_=t._redo;if(O.length<2)return t;var C=O[O.length-1],S=O[O.length-2];return e.flow.canUndoMove(t.G,t.ctx,C.moveType)?g({},t,{G:S.G,ctx:S.ctx,_undo:O.slice(0,O.length-1),_redo:[C].concat(w(_))}):t;case u:var A=t._undo,E=t._redo;if(0==E.length)return t;var D=E[0];return g({},t,{G:D.G,ctx:D.ctx,_undo:[].concat(w(A),[D]),_redo:E.slice(1)});default:return t}}}({game:p,numPlayers:y,multiplayer:b}),void 0!==f&&void 0===b){var A=new f.bot({game:p,enumerate:f.enumerate});this.step=function(){var t=c.store.getState(),e=A.play(t,t.ctx.actionPlayers[0]),n=e.action;return n&&(n.payload.metadata=e.metadata,c.store.dispatch(n)),n}}this.reset=function(){c.store.dispatch(m())},this.undo=function(){c.store.dispatch(d())},this.redo=function(){c.store.dispatch(h())},this.store=null,b?(this.multiplayerClient=this.createMultiplayerClient({gameID:k,playerID:O,gameName:p.name,numPlayers:y,server:S,socketOpts:x}),this.store=this.multiplayerClient.createStore(this.reducer,C)):(this.store=e.createStore(this.reducer,C),null===this.playerID&&(this.playerID=void 0)),this.createDispatchers()}return b(t,[{key:"createMultiplayerClient",value:function(t){return new O(t)}},{key:"subscribe",value:function(t){this.store.subscribe(t),this.multiplayerClient&&this.multiplayerClient.subscribe(t)}},{key:"getState",value:function(){var t=this.store.getState(),e=!0,n=this.game.flow.canPlayerMakeMove(t.G,t.ctx,this.playerID);this.multiplayer&&!n&&(e=!1),this.multiplayer||null===this.playerID||void 0===this.playerID||n||(e=!1),void 0!==t.ctx.gameover&&(e=!1);var i=this.game.playerView(t.G,t.ctx,this.playerID),a=g({},t,{isActive:e,G:i});return this.multiplayerClient&&(a=g({},a,{isConnected:this.multiplayerClient.isConnected})),a}},{key:"connect",value:function(){this.multiplayerClient&&this.multiplayerClient.connect()}},{key:"createDispatchers",value:function(){this.moves=E(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=A(this.game.flow.eventNames,this.store,this.playerID,this.credentials,this.multiplayer)}},{key:"updatePlayerID",value:function(t){this.playerID=t,this.createDispatchers(),this.multiplayerClient&&this.multiplayerClient.updatePlayerID(t)}},{key:"updateGameID",value:function(t){this.gameID=t,this.createDispatchers(),this.multiplayerClient&&this.multiplayerClient.updateGameID(t)}},{key:"updateCredentials",value:function(t){this.credentials=t,this.createDispatchers()}}]),t}();t.Client=D,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("ANjH"),n("e7zh"),n("W8Xk"))},ner8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBackoff=function(t,e){return new a(i[t],e)};var i={exponential:function(t,e){return Math.floor(Math.random()*Math.pow(2,t)*e)},fibonacci:function(t,e){if(t>(i=1))for(var n=1,i=2,a=2;a<t;a++){var o=n+i;n=i,i=o}return Math.floor(Math.random()*i*e)}};function a(t,e){this.func=t,this.attempts=0,this.delay=void 0!==e.initialDelay?e.initialDelay:100}a.prototype.backoff=function(){setTimeout(this.onReady,this.func(++this.attempts,this.delay))}},o1NI:function(t,e,n){"use strict";n.r(e);var i=n("CcnG"),a=function(){},o=n("pMnS"),r=n("Ip0R"),l=function(){function t(t,e){this.templateRef=t,this.viewContainer=e}return Object.defineProperty(t.prototype,"ngxInit",{set:function(t){this.viewContainer.clear(),this.viewContainer.createEmbeddedView(this.templateRef,{ngxInit:t})},enumerable:!0,configurable:!0}),t}(),s=function(){},u=n("21Lb"),c=n("OzfB"),p=n("Fzqc"),m=n("mrSG"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m.__extends)(e,t),e.prototype.onClick=function(t){this.isCellActive(t)&&this.moves.clickCell(t)},e.prototype.isCellActive=function(t){return this.isActive&&null===this.G.cells[t]},e}(function(){}),h=i.Na({encapsulation:0,styles:[[".tic-tac-toe-board[_ngcontent-%COMP%]{border-collapse:collapse}.tic-tac-toe-board[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:25px;color:#555;width:50px;height:50px;line-height:50px;border:3px solid #aaa;background:#fff}.tic-tac-toe-board[_ngcontent-%COMP%]   td.active[_ngcontent-%COMP%]{cursor:pointer;background:#ddf2b4}.tic-tac-toe-board[_ngcontent-%COMP%]   td.active[_ngcontent-%COMP%]:hover{background:#eff}.winner[_ngcontent-%COMP%]{margin-top:25px;width:168px;text-align:center}"]],data:{}});function f(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,3,"td",[],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onClick(t.context.ngxInit)&&i),i},null,null)),i.Oa(1,278528,null,0,r.h,[i.q,i.r,i.k,i.C],{ngClass:[0,"ngClass"]},null),i.ab(2,{active:0}),(t()(),i.eb(3,null,["",""]))],function(t,e){t(e,1,0,t(e,2,0,e.component.isCellActive(e.context.ngxInit)))},function(t,e){t(e,3,0,e.component.G.cells[e.context.ngxInit])})}function y(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),i.Ga(16777216,null,null,1,null,f)),i.Oa(2,16384,null,0,l,[i.L,i.O],{ngxInit:[0,"ngxInit"]},null),(t()(),i.Ga(0,null,null,0))],function(t,e){t(e,2,0,3*e.parent.context.$implicit+e.context.$implicit)},null)}function v(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),i.Ga(16777216,null,null,2,null,y)),i.Oa(2,278528,null,0,r.j,[i.O,i.L,i.q],{ngForOf:[0,"ngForOf"]},null),i.Za(3,3)],function(t,e){t(e,2,0,t(e,3,0,0,1,2))},null)}function b(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,11,"div",[["fxLayout",""],["fxLayoutAlign","center center"],["style","height: 100%; width: 100%;"]],null,null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(2,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(3,0,null,null,8,"div",[["fxLayout","column"],["fxLayoutAlign","center center"],["fxLayoutGap","16px"]],null,null,null,null,null)),i.Oa(4,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(5,1785856,null,0,u.f,[c.h,i.k,[6,u.e],i.x,p.b,c.l],{gap:[0,"gap"]},null),i.Oa(6,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(7,0,null,null,4,"table",[["class","tic-tac-toe-board"]],null,null,null,null,null)),(t()(),i.Pa(8,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),i.Ga(16777216,null,null,2,null,v)),i.Oa(10,278528,null,0,r.j,[i.O,i.L,i.q],{ngForOf:[0,"ngForOf"]},null),i.Za(11,3)],function(t,e){t(e,1,0,""),t(e,2,0,"center center"),t(e,4,0,"column"),t(e,5,0,"16px"),t(e,6,0,"center center"),t(e,10,0,t(e,11,0,0,1,2))},null)}var g=i.La("ng-component",d,function(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"ng-component",[],null,null,null,b,h)),i.Oa(1,49152,null,0,d,[],null,null)],null,null)},{G:"G",ctx:"ctx",moves:"moves",events:"events",playerID:"playerID",isActive:"isActive"},{},[]),x=n("SMsm"),w=n("Wf4p"),k=i.Na({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function O(t){return i.fb(2,[i.Xa(null,0)],null,null)}var _=n("UodH"),C=n("dWZg"),P=n("wFw1"),I=n("lLAP"),S=i.Na({encapsulation:2,styles:[".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function A(t){return i.fb(2,[i.cb(402653184,1,{ripple:0}),(t()(),i.Pa(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),i.Xa(null,0),(t()(),i.Pa(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),i.Oa(4,212992,[[1,4]],0,w.r,[i.k,i.x,C.a,[2,w.g],[2,P.a]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),i.Pa(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,i.Ya(e,4).unbounded)})}var E=i.Na({encapsulation:2,styles:[".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function D(t){return i.fb(2,[i.cb(402653184,1,{ripple:0}),(t()(),i.Pa(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),i.Xa(null,0),(t()(),i.Pa(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),i.Oa(4,212992,[[1,4]],0,w.r,[i.k,i.x,C.a,[2,w.g],[2,P.a]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),i.Pa(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,i.Ya(e,4).unbounded)})}var N=n("8mMr"),M=i.Na({encapsulation:2,styles:["@media screen and (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function R(t){return i.fb(2,[i.Xa(null,0),i.Xa(null,1)],null,null)}var T,j,L=n("ZYCi"),B=n("zZ8E"),G=(T=["local.com","localhost"].includes(window.location.hostname)?{SERVER_HOST:"localhost:8000",SERVER_SCHEMA:"ws"}:{SERVER_HOST:"everyturn.herokuapp.com",SERVER_SCHEMA:"wss"}).SERVER_HOST,z=T.SERVER_SCHEMA+"://"+G;!function(t){t.DISCONNECTED="DISCONNECTED",t.DISCONNECTING="DISCONNECTING",t.CONNECTING="CONNECTING",t.CONNECTED="CONNECTED",t.UNKNOWN="UNKNOWN"}(j||(j={}));var F=function(t){function e(){return t.call(this,z)||this}return Object(m.__extends)(e,t),Object.defineProperty(e.prototype,"readyState",{get:function(){var t;return(t={},t[WebSocket.CLOSED]=j.DISCONNECTED,t[WebSocket.CLOSING]=j.DISCONNECTING,t[WebSocket.CONNECTING]=j.CONNECTING,t[WebSocket.OPEN]=j.CONNECTED,t)[this.connection.readyState]||j.UNKNOWN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this.connection.readyState===WebSocket.OPEN},enumerable:!0,configurable:!0}),e.prototype.getConnectedRoom=function(t){return this.rooms[t]},e.prototype.joinPromise=function(t,e){var n=this;return new Promise(function(i,a){var o=n.join(t,e);o.onJoin.addOnce(function(){i(o)}),o.onError.addOnce(function(t){a(t)})})},e.prototype.joinWhenReady=function(t,e){var n=this;return new Promise(function(i,a){n.isReady?i(n.joinPromise(t,e)):(n.onOpen.addOnce(function(){i(n.joinPromise(t,e))}),n.onError.addOnce(function(t){a(t)}))})},e.prototype.ngOnDestroy=function(){this.close()},e.ngInjectableDef=i.S({factory:function(){return new e},token:e,providedIn:"root"}),e}(B.Client),U=n("qXBG"),Y=function(){function t(t,e){var n=this;this.auth=t,this.colyseus=e,t.isAuthenticated()&&(t.scheduleRenewal(),this.auth.getProfile().then(function(t){n.profile=t}))}return t.prototype.login=function(){this.auth.login()},t.prototype.logout=function(){this.auth.logout()},t}(),W=i.Na({encapsulation:0,styles:[".not_connected[_ngcontent-%COMP%] {\n      color: #357cb2;\n      margin-top: 3px;\n      animation: 6s ease-out infinite opacityPulse;\n      opacity: 1;\n    }\n    .wip-label[_ngcontent-%COMP%] {\n      color: #fff;\n      background-color: #17a2b8;\n      \n      display: inline-block;\n      padding: .25em .4em;\n      font-size: 75%;\n      font-weight: 700;\n      line-height: 1;\n      text-align: center;\n      white-space: nowrap;\n      vertical-align: baseline;\n      border-radius: .25rem;\n      letter-spacing: .07em;\n\n      position: absolute;\n      width: 184px;\n      top: 20px;\n      left: -39px;\n      z-index: 2;\n      transform: rotateZ(-26deg);\n    }"],data:{}});function q(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,2,"mat-icon",[["class","not_connected mat-icon"],["role","img"]],[[8,"title",0],[2,"mat-icon-inline",null]],null,null,O,k)),i.Oa(1,638976,null,0,x.a,[i.k,x.c,[8,null]],null,null),(t()(),i.eb(-1,0,[" cloud_off "]))],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,e.component.colyseus.readyState,i.Ya(e,1).inline)})}function V(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),i.Pa(1,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.login()&&i),i},A,S)),i.Oa(2,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],{color:[0,"color"]},null),(t()(),i.eb(-1,0,["Show support by sigining up"]))],function(t,e){t(e,2,0,"accent")},function(t,e){t(e,1,0,i.Ya(e,2).disabled||null,"NoopAnimations"===i.Ya(e,2)._animationMode)})}function H(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,10,null,null,null,null,null,null,null)),(t()(),i.Pa(1,0,null,null,6,"span",[["fxLayout",""],["fxLayoutAlign","start center"],["fxLayoutGap","8px"]],null,null,null,null,null)),i.Oa(2,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(3,1785856,null,0,u.f,[c.h,i.k,[6,u.e],i.x,p.b,c.l],{gap:[0,"gap"]},null),i.Oa(4,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(5,0,null,null,0,"img",[["height","32px"],["style","border-radius: 50%; border: 2px solid white;"],["width","32px"]],[[8,"src",4]],null,null,null,null)),(t()(),i.Pa(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i.eb(7,null,["Hello ","!"])),(t()(),i.Pa(8,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.logout()&&i),i},A,S)),i.Oa(9,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],null,null),(t()(),i.eb(-1,0,["Logout"]))],function(t,e){t(e,2,0,""),t(e,3,0,"8px"),t(e,4,0,"start center")},function(t,e){var n=e.component;t(e,5,0,null==n.profile?null:n.profile.picture),t(e,7,0,null==n.profile?null:n.profile.nickname),t(e,8,0,i.Ya(e,9).disabled||null,"NoopAnimations"===i.Ya(e,9)._animationMode)})}function X(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),i.eb(-1,null,["Loading profile..."]))],null,null)}function J(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,10,null,null,null,null,null,null,null)),(t()(),i.Pa(1,0,null,null,8,"span",[["fxLayout",""],["fxLayoutAlign","start center"],["fxLayoutGap","16px"]],null,null,null,null,null)),i.Oa(2,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),i.Oa(3,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(4,1785856,null,0,u.f,[c.h,i.k,[6,u.e],i.x,p.b,c.l],{gap:[0,"gap"]},null),i.Oa(5,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Ga(16777216,null,null,1,null,H)),i.Oa(7,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,X)),i.Oa(9,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Pa(10,0,null,null,0,"span",[],null,null,null,null,null))],function(t,e){t(e,2,0,!!e.component.profile),t(e,3,0,""),t(e,4,0,"16px"),t(e,5,0,"start center"),t(e,7,0,!0),t(e,9,0,!1)},null)}function K(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,30,"div",[["fxLayout","column"],["style","height: 100%;"]],null,null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),(t()(),i.Pa(2,0,null,null,1,"span",[["class","wip-label mat-elevation-z2"],["title","work in progress"]],null,null,null,null,null)),(t()(),i.eb(-1,null,["Work in Progress"])),(t()(),i.Pa(4,0,null,null,22,"mat-toolbar",[["class","mat-elevation-z6 mat-toolbar"],["fxFlex","none"],["fxLayout",""],["fxLayoutAlign","start center"],["fxLayoutGap","16px"],["style","z-index: 1"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,R,M)),i.Oa(5,4243456,null,1,N.a,[i.k,C.a,r.c],null,null),i.cb(603979776,1,{_toolbarRows:1}),i.Oa(7,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(8,1785856,null,0,u.f,[c.h,i.k,[6,u.e],i.x,p.b,c.l],{gap:[0,"gap"]},null),i.Oa(9,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),i.Oa(10,737280,null,0,u.a,[c.h,i.k,[3,u.e],c.l,c.f],{flex:[0,"flex"]},null),(t()(),i.Pa(11,0,null,0,1,"span",[["fxFlex","64px"]],null,null,null,null,null)),i.Oa(12,737280,null,0,u.a,[c.h,i.k,[3,u.e],c.l,c.f],{flex:[0,"flex"]},null),(t()(),i.Pa(13,0,null,0,3,"a",[["disableRipple",""],["mat-button",""],["routerLink","."],["style","font-variant-caps: small-caps;\n                                                  font-weight: bold;\n                                                  letter-spacing: 0.23em;\n                                                  font-size: 1.22em;\n                                                  color: #2583b9;"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i.Ya(t,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&a),"click"===e&&(a=!1!==i.Ya(t,15)._haltDisabledEvents(n)&&a),a},D,E)),i.Oa(14,671744,null,0,L.l,[L.k,L.a,r.g],{routerLink:[0,"routerLink"]},null),i.Oa(15,180224,null,0,_.a,[C.a,I.b,i.k,[2,P.a]],{disableRipple:[0,"disableRipple"]},null),(t()(),i.eb(-1,0,[" EveryTurn "])),(t()(),i.Ga(16777216,null,0,1,null,q)),i.Oa(18,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(t()(),i.Pa(19,0,null,0,1,"span",[["fxFlex",""]],null,null,null,null,null)),i.Oa(20,737280,null,0,u.a,[c.h,i.k,[3,u.e],c.l,c.f],{flex:[0,"flex"]},null),(t()(),i.Pa(21,0,null,0,5,null,null,null,null,null,null,null)),i.Oa(22,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),i.Ga(16777216,null,null,1,null,V)),i.Oa(24,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,J)),i.Oa(26,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Pa(27,0,null,null,3,"div",[["fxFlex",""],["style","min-width: 100%;\n                         overflow-x: auto;\n                         /*noinspection CssUnknownTarget*/\n                         background-image: url('/assets/background.png');\n                         background-size: cover;"]],null,null,null,null,null)),i.Oa(28,737280,null,0,u.a,[c.h,i.k,[3,u.e],c.l,c.f],{flex:[0,"flex"]},null),(t()(),i.Pa(29,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i.Oa(30,212992,null,0,L.n,[L.b,i.O,i.j,[8,null],i.h],null,null)],function(t,e){var n=e.component;t(e,1,0,"column"),t(e,7,0,""),t(e,8,0,"16px"),t(e,9,0,"start center"),t(e,10,0,"none"),t(e,12,0,"64px"),t(e,14,0,"."),t(e,15,0,""),t(e,18,0,!n.colyseus.isReady),t(e,20,0,""),t(e,22,0,n.auth.isAuthenticated()),t(e,24,0,!1),t(e,26,0,!0),t(e,28,0,""),t(e,30,0)},function(t,e){t(e,4,0,i.Ya(e,5)._toolbarRows.length>0,0===i.Ya(e,5)._toolbarRows.length),t(e,13,0,i.Ya(e,14).target,i.Ya(e,14).href,i.Ya(e,15).disabled?-1:i.Ya(e,15).tabIndex||0,i.Ya(e,15).disabled||null,i.Ya(e,15).disabled.toString(),"NoopAnimations"===i.Ya(e,15)._animationMode)})}var $=i.La("ng-component",Y,function(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"ng-component",[],null,null,null,K,W)),i.Oa(1,49152,null,0,Y,[U.a,F],null,null)],null,null)},{},{},[]),Q=n("0Grr"),Z=n("ik1+"),tt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},et=Object(Z.AI)({enumerate:function(t){for(var e=[],n=0;n<9;n++)null===t.cells[n]&&e.push({move:"clickCell",args:[n]});return e}}),nt={"tic-tac-toe":{Game:Object(Q.Game)({name:"tic-tac-toe",setup:function(){return{cells:Array(9).fill(null)}},moves:{clickCell:function(t,e,n){var i=t.cells.slice();return null===i[n]&&(i[n]=e.currentPlayer),tt({},t,{cells:i})}},flow:{movesPerTurn:1,endGameIf:function(t,e){return function(t){for(var e=0,n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];e<n.length;e++){for(var i=n[e],a=t[i[0]],o=a,r=0,l=i;r<l.length;r++)if(t[l[r]]!=a){o=null;break}if(null!=o)return!0}return!1}(t.cells)?{winner:e.currentPlayer}:t.cells.every(function(t){return null!==t})?{draw:!0}:void 0},endGame:!0}}),ai:et}};function it(t){return nt[t]}var at=function(){function t(t,e,n){this.router=t,this.route=e,this.colyseus=n,this.gameRecords=Object.values(nt)}return t.prototype.play=function(t){return e=this,void 0,i=function(){var e;return function(t,e){var n,i,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(6===o[0]&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=e.call(t,r)}catch(t){o=[6,t],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(n){switch(n.label){case 0:return[4,this.colyseus.joinWhenReady("base-room",{accessToken:localStorage.getItem("access_token"),gameName:t})];case 1:return e=n.sent(),this.router.navigate([t,"rooms",e.id],{relativeTo:this.route}),[2]}})},new((n=void 0)||(n=Promise))(function(t,a){function o(t){try{l(i.next(t))}catch(t){a(t)}}function r(t){try{l(i.throw(t))}catch(t){a(t)}}function l(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(o,r)}l((i=i.apply(e,[])).next())});var e,n,i},t.prototype.playSingleplayer=function(t){this.router.navigate([t,"singleplayer"],{relativeTo:this.route})},t}(),ot=i.Na({encapsulation:2,styles:[],data:{animation:[{type:7,name:"fadeInUp",definitions:[{type:1,expr:":enter",animation:{type:10,animation:{type:8,animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:1},offset:null}]},timings:"{{ timing }}s {{ delay }}s"},options:{params:{timing:1,delay:0,a:"100%",b:0}}},options:{params:{timing:"0.3",a:"12px"}}},options:null}],options:{}}]}});function rt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,11,"div",[["fxLayout",""],["fxLayoutAlign","space-between center"],["fxLayoutGap","26px"]],null,null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(2,1785856,null,0,u.f,[c.h,i.k,[6,u.e],i.x,p.b,c.l],{gap:[0,"gap"]},null),i.Oa(3,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(4,0,null,null,1,"span",[["style",""]],null,null,null,null,null)),(t()(),i.eb(5,null,["",""])),(t()(),i.Pa(6,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.play(t.context.$implicit.Game.name)&&i),i},A,S)),i.Oa(7,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],{disabled:[0,"disabled"]},null),(t()(),i.eb(8,0,[" "," "])),(t()(),i.Pa(9,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.playSingleplayer(t.context.$implicit.Game.name)&&i),i},A,S)),i.Oa(10,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],null,null),(t()(),i.eb(-1,0,[" Single Player "]))],function(t,e){var n=e.component;t(e,1,0,""),t(e,2,0,"26px"),t(e,3,0,"space-between center"),t(e,7,0,!n.colyseus.isReady)},function(t,e){var n=e.component;t(e,5,0,e.context.$implicit.Game.name),t(e,6,0,i.Ya(e,7).disabled||null,"NoopAnimations"===i.Ya(e,7)._animationMode),t(e,8,0,n.colyseus.isReady?"Multiplayer":"Sorry, can't play while server is down"),t(e,9,0,i.Ya(e,10).disabled||null,"NoopAnimations"===i.Ya(e,10)._animationMode)})}function lt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,11,"section",[["fxFlexFill",""],["fxLayout",""],["fxLayoutAlign","center center"]],null,null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(2,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),i.Oa(3,737280,null,0,u.b,[c.h,i.k,c.l],null,null),(t()(),i.Pa(4,0,null,null,7,"div",[["style","min-height: 80%"]],null,null,null,null,null)),(t()(),i.Pa(5,0,null,null,6,"div",[["class","mat-elevation-z8"],["fxLayout","column"],["fxLayoutAlign","start center"],["style","background-color: white; border: 4px dashed #fa4f4f; padding: 16px 32px 38px 32px;"]],[[24,"@fadeInUp",0]],null,null,null,null)),i.Oa(6,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(7,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(8,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),i.eb(-1,null,["Checkout Our games"])),(t()(),i.Ga(16777216,null,null,1,null,rt)),i.Oa(11,278528,null,0,r.j,[i.O,i.L,i.q],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,""),t(e,2,0,"center center"),t(e,3,0),t(e,6,0,"column"),t(e,7,0,"start center"),t(e,11,0,n.gameRecords)},function(t,e){t(e,5,0,void 0)})}var st=i.La("ng-component",at,function(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"ng-component",[],null,null,null,lt,ot)),i.Oa(1,49152,null,0,at,[L.k,L.a,F],null,null)],null,null)},{},{},[]),ut=function(){function t(t,e){this.template=t,this.vcRef=e,this.view=this.vcRef.createEmbeddedView(this.template)}return t.prototype.ngAfterViewChecked=function(){this.view.detach()},t}(),ct=function(){},pt=n("ny24"),mt=n("K9Ia"),dt=new i.o("ComponentInjector"),ht=function(){function t(t){this.componentOutlet=t}return Object.defineProperty(t.prototype,"componentRef",{get:function(){return this.componentOutlet._componentRef},enumerable:!0,configurable:!0}),t}(),ft=function(){function t(t,e){this._vcr=t,this._cfr=e,this.ndcDynamicCreated=new i.m}return t.prototype.ngOnChanges=function(t){t.ndcDynamicComponent&&this.createDynamicComponent()},t.prototype.createDynamicComponent=function(){this._vcr.clear(),this.componentRef=null,this.ndcDynamicComponent&&(this.componentRef=this._vcr.createComponent(this._cfr.resolveComponentFactory(this.ndcDynamicComponent),0,this._resolveInjector(),this.ndcDynamicContent),this.ndcDynamicCreated.emit(this.componentRef))},t.prototype._resolveInjector=function(){var t=this.ndcDynamicInjector||this._vcr.parentInjector;return this.ndcDynamicProviders&&(t=i.p.create({providers:this.ndcDynamicProviders,parent:t})),t},t}();function yt(t){return new i.H(void 0,t,!0)}function vt(t,e){return function(n){return e(n,function(t,e){return void 0===e&&(e=!1),e?yt(t.currentValue):new i.H(t.previousValue,t.currentValue,!1)}(n,t))}}var bt={isFirstChanges:!1,onlyNewChanges:!1};function gt(t){return void 0===t&&(t=bt),t.onlyNewChanges?(e=t.isFirstChanges,function(t){return vt(e,function(e,n){t[e.key]||(t[e.key]=n)})}):function(t){return function(e){return vt(t,function(t,n){return e[t.key]=n})}}(t.isFirstChanges);var e}var xt=gt({isFirstChanges:!0}),wt=gt({onlyNewChanges:!0}),kt=function(){function t(t,e,n,i,a){this._differs=t,this._injector=e,this._cfr=n,this._componentInjectorType=i,this._componentOutletInjector=a,this._componentInjector=this._injector.get(this._componentInjectorType,null),this._lastComponentInst=this._componentInjector,this._inputsDiffer=this._differs.find({}).create(),this._compFactory=null,this._outputsShouldDisconnect$=new mt.a}return Object.defineProperty(t.prototype,"_inputs",{get:function(){return this.ndcDynamicInputs||this.ngComponentOutletNdcDynamicInputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_outputs",{get:function(){return this.ndcDynamicOutputs||this.ngComponentOutletNdcDynamicOutputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_compInjector",{get:function(){return this._componentOutletInjector||this._componentInjector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_compRef",{get:function(){return this._compInjector.componentRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_componentInst",{get:function(){return this._compRef.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_componentInstChanged",{get:function(){return this._lastComponentInst!==this._componentInst&&(this._lastComponentInst=this._componentInst,!0)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){var e=this._componentInstChanged;if(e||this._inputsChanged(t)){var n=this._getInputsChanges(this._inputs);n&&this._updateInputChanges(n),this.updateInputs(e||!this._lastInputChanges)}(e||this._outputsChanged(t))&&this.bindOutputs()},t.prototype.ngDoCheck=function(){if(this._componentInstChanged)return this.updateInputs(!0),void this.bindOutputs();if(this._inputs){var t=this._getInputsChanges(this._inputs);if(t){var e=!!this._lastInputChanges;this._updateInputChanges(t),e&&this.updateInputs()}}},t.prototype.ngOnDestroy=function(){this._disconnectOutputs()},t.prototype.updateInputs=function(t){void 0===t&&(t=!1),t&&this._updateCompFactory();var e=this._componentInst,n=this._inputs;n&&e&&(n=this._resolveInputs(n),Object.keys(n).forEach(function(t){return e[t]=n[t]}),this.notifyOnInputChanges(this._lastInputChanges,t))},t.prototype.bindOutputs=function(){var t=this;this._disconnectOutputs();var e=this._componentInst,n=this._outputs;n&&e&&(n=this._resolveOutputs(n),Object.keys(n).filter(function(t){return e[t]}).forEach(function(i){return e[i].pipe(Object(pt.a)(t._outputsShouldDisconnect$)).subscribe(n[i])}))},t.prototype.notifyOnInputChanges=function(t,e){void 0===t&&(t={}),this._componentInst.ngOnChanges&&(e&&(t=this._collectFirstChanges()),this._componentInst.ngOnChanges(t))},t.prototype._disconnectOutputs=function(){this._outputsShouldDisconnect$.next()},t.prototype._getInputsChanges=function(t){return this._inputsDiffer.diff(this._inputs)},t.prototype._updateInputChanges=function(t){this._lastInputChanges=this._collectChangesFromDiffer(t)},t.prototype._collectFirstChanges=function(){var t={},e=this._inputs;return Object.keys(e).forEach(function(n){return t[n]=yt(e[n])}),this._resolveChanges(t)},t.prototype._collectChangesFromDiffer=function(t){var e={};return t.forEachAddedItem(xt(e)),t.forEachItem(wt(e)),this._resolveChanges(e)},t.prototype._inputsChanged=function(t){return"ngComponentOutletNdcDynamicInputs"in t||"ndcDynamicInputs"in t},t.prototype._outputsChanged=function(t){return"ngComponentOutletNdcDynamicOutputs"in t||"ndcDynamicOutputs"in t},t.prototype._resolveCompFactory=function(){try{try{return this._cfr.resolveComponentFactory(this._compRef.componentType)}catch(t){return this._cfr.resolveComponentFactory(this._compRef.instance.constructor)}}catch(t){return null}},t.prototype._updateCompFactory=function(){this._compFactory=this._resolveCompFactory()},t.prototype._resolveInputs=function(t){return this._compFactory?this._remapIO(t,this._compFactory.inputs):t},t.prototype._resolveOutputs=function(t){return this._compFactory?this._remapIO(t,this._compFactory.outputs):t},t.prototype._resolveChanges=function(t){return this._compFactory?this._remapIO(t,this._compFactory.inputs):t},t.prototype._remapIO=function(t,e){var n=this,i={};return Object.keys(t).forEach(function(a){var o=n._findPropByTplInMapping(a,e)||a;i[o]=t[a]}),i},t.prototype._findPropByTplInMapping=function(t,e){for(var n=0,i=e;n<i.length;n++){var a=i[n];if(a.templateName===t)return a.propName}return null},t}(),Ot=function(){function t(){}return t.withComponents=function(e,n){return void 0===n&&(n=ft),{ngModule:t,providers:[{provide:i.a,useValue:e,multi:!0},{provide:dt,useValue:n}]}},t}(),_t=function(){},Ct=i.Na({encapsulation:0,styles:[[".dot-wave[_ngcontent-%COMP%]{display:inline-block;position:relative;text-align:center;margin-left:4px}.dot-wave[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:4px;height:4px;border-radius:50%;margin-right:3px;background:#fa4f4f;-webkit-animation:1.3s linear infinite wave;animation:1.3s linear infinite wave}.dot-wave[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.dot-wave[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}@-webkit-keyframes wave{0%,100%,60%{-webkit-transform:initial;transform:initial}30%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}}@keyframes wave{0%,100%,60%{-webkit-transform:initial;transform:initial}30%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}}"]],data:{}});function Pt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"strong",[["style","color: rgb(250, 79, 79);"]],null,null,null,null,null)),(t()(),i.eb(-1,null,["Waiting for players"])),(t()(),i.Pa(2,0,null,null,3,"div",[["class","dot-wave"]],null,null,null,null,null)),(t()(),i.Pa(3,0,null,null,0,"span",[["class","dot"]],null,null,null,null,null)),(t()(),i.Pa(4,0,null,null,0,"span",[["class","dot"]],null,null,null,null,null)),(t()(),i.Pa(5,0,null,null,0,"span",[["class","dot"]],null,null,null,null,null))],null,null)}var It=n("mVsa"),St=n("eDkP"),At=n("4c35"),Et=n("qAlS"),Dt=i.Na({encapsulation:2,styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:2px;outline:0}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}@media screen and (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}@media screen and (-ms-high-contrast:active){.mat-menu-item-highlighted,.mat-menu-item.cdk-keyboard-focused,.mat-menu-item.cdk-program-focused{outline:dotted 1px}}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}.mat-menu-panel.ng-animating .mat-menu-item-submenu-trigger{pointer-events:none}button.mat-menu-item{width:100%}.mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],data:{animation:[{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.01, 0.01)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:2,steps:[{type:11,selector:".mat-menu-content",animation:{type:6,styles:{opacity:0},offset:null},options:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1, 0.5)"},offset:null},timings:"100ms linear"},{type:3,steps:[{type:11,selector:".mat-menu-content",animation:{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"400ms cubic-bezier(0.55, 0, 0.55, 0.2)"},options:null},{type:4,styles:{type:6,styles:{transform:"scale(1, 1)"},offset:null},timings:"300ms cubic-bezier(0.25, 0.8, 0.25, 1)"}],options:null}],options:null},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"150ms 50ms linear"},options:null}],options:{}},{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function Nt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,3,"div",[["class","mat-menu-panel"],["role","menu"],["tabindex","-1"]],[[24,"@transformMenu",0]],[[null,"keydown"],[null,"click"],[null,"@transformMenu.start"],[null,"@transformMenu.done"]],function(t,e,n){var i=!0,a=t.component;return"keydown"===e&&(i=!1!==a._handleKeydown(n)&&i),"click"===e&&(i=!1!==a.closed.emit("click")&&i),"@transformMenu.start"===e&&(i=0!=(a._isAnimating=!0)&&i),"@transformMenu.done"===e&&(i=!1!==a._onAnimationDone(n)&&i),i},null,null)),i.Oa(1,278528,null,0,r.h,[i.q,i.r,i.k,i.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),i.Pa(2,0,null,null,1,"div",[["class","mat-menu-content"]],null,null,null,null,null)),i.Xa(null,0)],function(t,e){t(e,1,0,"mat-menu-panel",e.component._classList)},function(t,e){t(e,0,0,e.component._panelAnimationState)})}function Mt(t){return i.fb(2,[i.cb(402653184,1,{templateRef:0}),(t()(),i.Ga(0,[[1,2]],null,0,null,Nt))],null,null)}var Rt=i.Na({encapsulation:2,styles:[],data:{}});function Tt(t){return i.fb(2,[i.Xa(null,0),(t()(),i.Pa(1,0,null,null,1,"div",[["class","mat-menu-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),i.Oa(2,212992,null,0,w.r,[i.k,i.x,C.a,[2,w.g],[2,P.a]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var n=e.component;t(e,2,0,n.disableRipple||n.disabled,n._getHostElement())},function(t,e){t(e,1,0,i.Ya(e,2).unbounded)})}var jt=n("0/Q6"),Lt=n("LC5p");n("gIcY");var Bt=i.Na({encapsulation:2,styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{margin:0}.mat-list,.mat-nav-list,.mat-selection-list{padding-top:8px;display:block}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{height:48px;line-height:16px}.mat-list .mat-subheader:first-child,.mat-nav-list .mat-subheader:first-child,.mat-selection-list .mat-subheader:first-child{margin-top:-8px}.mat-list .mat-list-item,.mat-list .mat-list-option,.mat-nav-list .mat-list-item,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-item,.mat-selection-list .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent}.mat-list .mat-list-item .mat-list-item-content,.mat-list .mat-list-option .mat-list-item-content,.mat-nav-list .mat-list-item .mat-list-item-content,.mat-nav-list .mat-list-option .mat-list-item-content,.mat-selection-list .mat-list-item .mat-list-item-content,.mat-selection-list .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list .mat-list-item .mat-list-item-content-reverse,.mat-list .mat-list-option .mat-list-item-content-reverse,.mat-nav-list .mat-list-item .mat-list-item-content-reverse,.mat-nav-list .mat-list-option .mat-list-item-content-reverse,.mat-selection-list .mat-list-item .mat-list-item-content-reverse,.mat-selection-list .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list .mat-list-item .mat-list-item-ripple,.mat-list .mat-list-option .mat-list-item-ripple,.mat-nav-list .mat-list-item .mat-list-item-ripple,.mat-nav-list .mat-list-option .mat-list-item-ripple,.mat-selection-list .mat-list-item .mat-list-item-ripple,.mat-selection-list .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list .mat-list-item.mat-list-item-with-avatar,.mat-list .mat-list-option.mat-list-item-with-avatar,.mat-nav-list .mat-list-item.mat-list-item-with-avatar,.mat-nav-list .mat-list-option.mat-list-item-with-avatar,.mat-selection-list .mat-list-item.mat-list-item-with-avatar,.mat-selection-list .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list .mat-list-item.mat-2-line,.mat-list .mat-list-option.mat-2-line,.mat-nav-list .mat-list-item.mat-2-line,.mat-nav-list .mat-list-option.mat-2-line,.mat-selection-list .mat-list-item.mat-2-line,.mat-selection-list .mat-list-option.mat-2-line{height:72px}.mat-list .mat-list-item.mat-3-line,.mat-list .mat-list-option.mat-3-line,.mat-nav-list .mat-list-item.mat-3-line,.mat-nav-list .mat-list-option.mat-3-line,.mat-selection-list .mat-list-item.mat-3-line,.mat-selection-list .mat-list-option.mat-3-line{height:88px}.mat-list .mat-list-item.mat-multi-line,.mat-list .mat-list-option.mat-multi-line,.mat-nav-list .mat-list-item.mat-multi-line,.mat-nav-list .mat-list-option.mat-multi-line,.mat-selection-list .mat-list-item.mat-multi-line,.mat-selection-list .mat-list-option.mat-multi-line{height:auto}.mat-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list .mat-list-item .mat-list-text,.mat-list .mat-list-option .mat-list-text,.mat-nav-list .mat-list-item .mat-list-text,.mat-nav-list .mat-list-option .mat-list-text,.mat-selection-list .mat-list-item .mat-list-text,.mat-selection-list .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list .mat-list-item .mat-list-text>*,.mat-list .mat-list-option .mat-list-text>*,.mat-nav-list .mat-list-item .mat-list-text>*,.mat-nav-list .mat-list-option .mat-list-text>*,.mat-selection-list .mat-list-item .mat-list-text>*,.mat-selection-list .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list .mat-list-item .mat-list-text:empty,.mat-list .mat-list-option .mat-list-text:empty,.mat-nav-list .mat-list-item .mat-list-text:empty,.mat-nav-list .mat-list-option .mat-list-text:empty,.mat-selection-list .mat-list-item .mat-list-text:empty,.mat-selection-list .mat-list-option .mat-list-text:empty{display:none}.mat-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-nav-list .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-nav-list .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-selection-list .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-selection-list .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-nav-list .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-nav-list .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-selection-list .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-selection-list .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list .mat-list-item .mat-list-avatar,.mat-list .mat-list-option .mat-list-avatar,.mat-nav-list .mat-list-item .mat-list-avatar,.mat-nav-list .mat-list-option .mat-list-avatar,.mat-selection-list .mat-list-item .mat-list-avatar,.mat-selection-list .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list .mat-list-option .mat-list-avatar~.mat-divider-inset,.mat-nav-list .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-nav-list .mat-list-option .mat-list-avatar~.mat-divider-inset,.mat-selection-list .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-selection-list .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list .mat-list-option .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-nav-list .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-nav-list .mat-list-option .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-selection-list .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-selection-list .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list .mat-list-item .mat-list-icon,.mat-list .mat-list-option .mat-list-icon,.mat-nav-list .mat-list-item .mat-list-icon,.mat-nav-list .mat-list-option .mat-list-icon,.mat-selection-list .mat-list-item .mat-list-icon,.mat-selection-list .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list .mat-list-option .mat-list-icon~.mat-divider-inset,.mat-nav-list .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-nav-list .mat-list-option .mat-list-icon~.mat-divider-inset,.mat-selection-list .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-selection-list .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list .mat-list-option .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-nav-list .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-nav-list .mat-list-option .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-selection-list .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-selection-list .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list .mat-list-item .mat-divider,.mat-list .mat-list-option .mat-divider,.mat-nav-list .mat-list-item .mat-divider,.mat-nav-list .mat-list-option .mat-divider,.mat-selection-list .mat-list-item .mat-divider,.mat-selection-list .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list .mat-list-item .mat-divider,[dir=rtl] .mat-list .mat-list-option .mat-divider,[dir=rtl] .mat-nav-list .mat-list-item .mat-divider,[dir=rtl] .mat-nav-list .mat-list-option .mat-divider,[dir=rtl] .mat-selection-list .mat-list-item .mat-divider,[dir=rtl] .mat-selection-list .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list .mat-list-item .mat-divider.mat-divider-inset,.mat-list .mat-list-option .mat-divider.mat-divider-inset,.mat-nav-list .mat-list-item .mat-divider.mat-divider-inset,.mat-nav-list .mat-list-option .mat-divider.mat-divider-inset,.mat-selection-list .mat-list-item .mat-divider.mat-divider-inset,.mat-selection-list .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list[dense],.mat-nav-list[dense],.mat-selection-list[dense]{padding-top:4px;display:block}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{height:40px;line-height:8px}.mat-list[dense] .mat-subheader:first-child,.mat-nav-list[dense] .mat-subheader:first-child,.mat-selection-list[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list[dense] .mat-list-item,.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent}.mat-list[dense] .mat-list-item .mat-list-item-content,.mat-list[dense] .mat-list-option .mat-list-item-content,.mat-nav-list[dense] .mat-list-item .mat-list-item-content,.mat-nav-list[dense] .mat-list-option .mat-list-item-content,.mat-selection-list[dense] .mat-list-item .mat-list-item-content,.mat-selection-list[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list[dense] .mat-list-item .mat-list-item-ripple,.mat-list[dense] .mat-list-option .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-item .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-option .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-item .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list[dense] .mat-list-option.mat-list-item-with-avatar,.mat-nav-list[dense] .mat-list-item.mat-list-item-with-avatar,.mat-nav-list[dense] .mat-list-option.mat-list-item-with-avatar,.mat-selection-list[dense] .mat-list-item.mat-list-item-with-avatar,.mat-selection-list[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list[dense] .mat-list-item.mat-2-line,.mat-list[dense] .mat-list-option.mat-2-line,.mat-nav-list[dense] .mat-list-item.mat-2-line,.mat-nav-list[dense] .mat-list-option.mat-2-line,.mat-selection-list[dense] .mat-list-item.mat-2-line,.mat-selection-list[dense] .mat-list-option.mat-2-line{height:60px}.mat-list[dense] .mat-list-item.mat-3-line,.mat-list[dense] .mat-list-option.mat-3-line,.mat-nav-list[dense] .mat-list-item.mat-3-line,.mat-nav-list[dense] .mat-list-option.mat-3-line,.mat-selection-list[dense] .mat-list-item.mat-3-line,.mat-selection-list[dense] .mat-list-option.mat-3-line{height:76px}.mat-list[dense] .mat-list-item.mat-multi-line,.mat-list[dense] .mat-list-option.mat-multi-line,.mat-nav-list[dense] .mat-list-item.mat-multi-line,.mat-nav-list[dense] .mat-list-option.mat-multi-line,.mat-selection-list[dense] .mat-list-item.mat-multi-line,.mat-selection-list[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list[dense] .mat-list-item .mat-list-text,.mat-list[dense] .mat-list-option .mat-list-text,.mat-nav-list[dense] .mat-list-item .mat-list-text,.mat-nav-list[dense] .mat-list-option .mat-list-text,.mat-selection-list[dense] .mat-list-item .mat-list-text,.mat-selection-list[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list[dense] .mat-list-item .mat-list-text>*,.mat-list[dense] .mat-list-option .mat-list-text>*,.mat-nav-list[dense] .mat-list-item .mat-list-text>*,.mat-nav-list[dense] .mat-list-option .mat-list-text>*,.mat-selection-list[dense] .mat-list-item .mat-list-text>*,.mat-selection-list[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list[dense] .mat-list-item .mat-list-text:empty,.mat-list[dense] .mat-list-option .mat-list-text:empty,.mat-nav-list[dense] .mat-list-item .mat-list-text:empty,.mat-nav-list[dense] .mat-list-option .mat-list-text:empty,.mat-selection-list[dense] .mat-list-item .mat-list-text:empty,.mat-selection-list[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-nav-list[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-nav-list[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-selection-list[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-selection-list[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-nav-list[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-nav-list[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-selection-list[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-selection-list[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-nav-list[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-selection-list[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-nav-list[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-nav-list[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-selection-list[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-selection-list[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list[dense] .mat-list-item .mat-list-avatar,.mat-list[dense] .mat-list-option .mat-list-avatar,.mat-nav-list[dense] .mat-list-item .mat-list-avatar,.mat-nav-list[dense] .mat-list-option .mat-list-avatar,.mat-selection-list[dense] .mat-list-item .mat-list-avatar,.mat-selection-list[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%}.mat-list[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset,.mat-nav-list[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-nav-list[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset,.mat-selection-list[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-selection-list[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-nav-list[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-nav-list[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-selection-list[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-selection-list[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list[dense] .mat-list-item .mat-list-icon,.mat-list[dense] .mat-list-option .mat-list-icon,.mat-nav-list[dense] .mat-list-item .mat-list-icon,.mat-nav-list[dense] .mat-list-option .mat-list-icon,.mat-selection-list[dense] .mat-list-item .mat-list-icon,.mat-selection-list[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list[dense] .mat-list-option .mat-list-icon~.mat-divider-inset,.mat-nav-list[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-nav-list[dense] .mat-list-option .mat-list-icon~.mat-divider-inset,.mat-selection-list[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-selection-list[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list[dense] .mat-list-option .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-nav-list[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-nav-list[dense] .mat-list-option .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-selection-list[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-selection-list[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list[dense] .mat-list-item .mat-divider,.mat-list[dense] .mat-list-option .mat-divider,.mat-nav-list[dense] .mat-list-item .mat-divider,.mat-nav-list[dense] .mat-list-option .mat-divider,.mat-selection-list[dense] .mat-list-item .mat-divider,.mat-selection-list[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list[dense] .mat-list-option .mat-divider,[dir=rtl] .mat-nav-list[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-nav-list[dense] .mat-list-option .mat-divider,[dir=rtl] .mat-selection-list[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-selection-list[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list[dense] .mat-list-option .mat-divider.mat-divider-inset,.mat-nav-list[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-nav-list[dense] .mat-list-option .mat-divider.mat-divider-inset,.mat-selection-list[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-selection-list[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}"],data:{}});function Gt(t){return i.fb(2,[i.Xa(null,0)],null,null)}var zt,Ft=i.Na({encapsulation:2,styles:[],data:{}});function Ut(t){return i.fb(2,[(t()(),i.Pa(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),i.Pa(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),i.Oa(2,212992,null,0,w.r,[i.k,i.x,C.a,[2,w.g],[2,P.a]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),i.Xa(null,0),(t()(),i.Pa(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),i.Xa(null,1),i.Xa(null,2)],function(t,e){var n=e.component;t(e,2,0,n._isRippleDisabled(),n._getHostElement())},function(t,e){t(e,1,0,i.Ya(e,2).unbounded)})}!function(t){t.CAN_MOVE="CAN_MOVE",t.WAITING="WAITING",t.DONE_WINNER="DONE_WINNER",t.DONE_INDIFFERENT="DONE_INDIFFERENT"}(zt||(zt={}));var Yt=function(){return function(){this.PLAYER_STATUS=zt}}(),Wt=i.Na({encapsulation:0,styles:[[".player-status[_ngcontent-%COMP%]{letter-spacing:.1em;font-style:italic;color:#bcbc5e}.player-status[_ngcontent-%COMP%]   .player-status__waiting[_ngcontent-%COMP%]{color:#c3c3c3}.player-status[_ngcontent-%COMP%]   .player-status__your-turn[_ngcontent-%COMP%]{color:#46ce26;-webkit-animation:6s ease-out infinite opacityPulse;animation:6s ease-out infinite opacityPulse;opacity:1}.shadow-pop-tr[_ngcontent-%COMP%]{-webkit-animation:.3s cubic-bezier(.47,0,.745,.715) both shadow-pop-tr;animation:.3s cubic-bezier(.47,0,.745,.715) both shadow-pop-tr}@-webkit-keyframes shadow-pop-tr{0%{box-shadow:0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e;-webkit-transform:translateX(0) translateY(0);transform:translateX(0) translateY(0);border:none}100%{box-shadow:-1px 1px #3e3e3e,-2px 2px #3e3e3e;-webkit-transform:translateX(2px) translateY(-2px);transform:translateX(2px) translateY(-2px);border:1px solid #3e3e3e}}@keyframes shadow-pop-tr{0%{box-shadow:0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e,0 0 #3e3e3e;-webkit-transform:translateX(0) translateY(0);transform:translateX(0) translateY(0);border:none}100%{box-shadow:-1px 1px #3e3e3e,-2px 2px #3e3e3e;-webkit-transform:translateX(2px) translateY(-2px);transform:translateX(2px) translateY(-2px);border:1px solid #3e3e3e}}"]],data:{}});function qt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"span",[["class","player-status__your-turn"]],null,null,null,null,null)),(t()(),i.eb(-1,null,["Your Turn"]))],null,null)}function Vt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i.eb(-1,null,["Current Player"]))],null,null)}function Ht(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),i.Pa(1,0,null,null,5,null,null,null,null,null,null,null)),i.Oa(2,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),i.Ga(16777216,null,null,1,null,qt)),i.Oa(4,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,Vt)),i.Oa(6,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(0,null,null,0))],function(t,e){t(e,2,0,e.component.isMe),t(e,4,0,!0),t(e,6,0,!1)},null)}function Xt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"span",[["class","player-status__waiting"]],null,null,null,null,null)),(t()(),i.eb(-1,null,["Waiting..."]))],null,null)}function Jt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i.eb(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.isMe?"You Won!":"Winner")})}function Kt(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i.eb(-1,null,["\xa0"]))],null,null)}function $t(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,24,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"focus"],[null,"blur"]],function(t,e,n){var a=!0;return"focus"===e&&(a=!1!==i.Ya(t,3)._handleFocus()&&a),"blur"===e&&(a=!1!==i.Ya(t,3)._handleBlur()&&a),a},Ut,Ft)),i.Oa(1,278528,null,0,r.h,[i.q,i.r,i.k,i.C],{ngClass:[0,"ngClass"]},null),i.ab(2,{"shadow-pop-tr":0}),i.Oa(3,1097728,null,3,jt.c,[i.k,[2,jt.g]],null,null),i.cb(603979776,1,{_lines:1}),i.cb(335544320,2,{_avatar:0}),i.cb(335544320,3,{_icon:0}),(t()(),i.Pa(7,0,null,0,3,"img",[["class","mat-list-avatar"],["matListAvatar",""],["style","border: 2px solid;"]],[[8,"src",4]],null,null,null,null)),i.Oa(8,278528,null,0,r.n,[i.r,i.k,i.C],{ngStyle:[0,"ngStyle"]},null),i.ab(9,{"border-color":0}),i.Oa(10,16384,[[2,4]],0,jt.b,[],null,null),(t()(),i.Pa(11,0,null,1,2,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),i.Oa(12,16384,[[1,4]],0,w.i,[],null,null),(t()(),i.eb(13,null,[" "," "])),(t()(),i.Pa(14,0,null,1,10,"p",[["class","player-status mat-line"],["matLine",""]],null,null,null,null,null)),i.Oa(15,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),i.Oa(16,16384,[[1,4]],0,w.i,[],null,null),(t()(),i.Ga(16777216,null,null,1,null,Ht)),i.Oa(18,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,Xt)),i.Oa(20,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,Jt)),i.Oa(22,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,Kt)),i.Oa(24,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,1,0,t(e,2,0,n.status===n.PLAYER_STATUS.CAN_MOVE)),t(e,8,0,t(e,9,0,n.player.color)),t(e,15,0,n.status),t(e,18,0,n.PLAYER_STATUS.CAN_MOVE),t(e,20,0,n.PLAYER_STATUS.WAITING),t(e,22,0,n.PLAYER_STATUS.DONE_WINNER),t(e,24,0,n.PLAYER_STATUS.DONE_INDIFFERENT)},function(t,e){var n=e.component;t(e,0,0,i.Ya(e,3)._avatar||i.Ya(e,3)._icon,i.Ya(e,3)._avatar||i.Ya(e,3)._icon),t(e,7,0,n.player.profile.picture),t(e,13,0,n.player.profile.nickname)})}var Qt=function(){function t(){}return t.prototype.getPlayerStatus=function(t){return null!=this.gameover?this.gameover.winner===t.playerID?zt.DONE_WINNER:zt.DONE_INDIFFERENT:this.canPlayerMakeMove(t.playerID)?zt.CAN_MOVE:zt.WAITING},t}(),Zt=i.Na({encapsulation:2,styles:[],data:{}});function te(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"et-player-list-item",[],null,null,null,$t,Wt)),i.Oa(1,49152,null,0,Yt,[],{isMe:[0,"isMe"],status:[1,"status"],player:[2,"player"]},null)],function(t,e){var n=e.component;t(e,1,0,e.context.$implicit.playerID===n.playerID,n.getPlayerStatus(e.context.$implicit),e.context.$implicit)},null)}function ee(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,6,"mat-list",[["class","mat-list"],["dense",""],["style","margin-right: 2px;"]],null,null,null,Gt,Bt)),i.Oa(1,49152,null,0,jt.a,[],null,null),(t()(),i.Pa(2,0,null,0,2,"h3",[["class","mat-subheader"],["matSubheader",""]],null,null,null,null,null)),i.Oa(3,16384,null,0,jt.f,[],null,null),(t()(),i.eb(-1,null,["Players"])),(t()(),i.Ga(16777216,null,0,1,null,te)),i.Oa(6,278528,null,0,r.j,[i.O,i.L,i.q],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,6,0,e.component.players)},null)}var ne=function(){function t(){var t=this;this.playerID=null,this.leave=new i.m,this.toggleDebug=new i.m,this.playAgain=new i.m,this.canPlayerMakeMove=function(e){return t.isRoomReady&&t.game.flow.canPlayerMakeMove(t.gameState.G,t.gameState.ctx,e)}}return t.prototype.isDone=function(){return void 0!==this.gameState.ctx.gameover},t.prototype.getWinnerNickName=function(){var t=this;return this.players.find(function(e){return e.playerID===t.gameState.ctx.gameover.winner}).profile.nickname},t}(),ie=i.Na({encapsulation:2,styles:[],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:1,expr:":enter",animation:{type:10,animation:{type:8,animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:1},offset:null}]},timings:"{{ timing }}s {{ delay }}s"},options:{params:{timing:1,delay:0,a:0,b:0}}},options:{params:{timing:"0.5"}}},options:null}],options:{}}]}});function ae(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),i.Pa(1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i.eb(-1,null,["Winner: "])),(t()(),i.eb(3,null,["","! "]))],null,function(t,e){t(e,3,0,e.component.getWinnerNickName())})}function oe(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),i.Ga(16777216,null,null,1,null,ae)),i.Oa(2,8404992,null,0,ut,[i.L,i.O],null,null),(t()(),i.Ga(0,null,null,0))],null,null)}function re(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),i.eb(-1,null,[" Draw! "]))],null,null)}function le(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,14,"div",[["fxLayout",""],["fxLayoutAlign","center center"],["style","position: absolute; height: 100%; width: 100%; top: 0; left: 0; color: white; background: rgba(0,0,0,0.8);"]],[[24,"@fadeIn",0]],null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(2,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(3,0,null,null,11,"div",[["fxLayout","column"],["fxLayoutAlign","start center"],["fxLayoutGap","16px"]],null,null,null,null,null)),i.Oa(4,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(5,1785856,null,0,u.f,[c.h,i.k,[6,u.e],i.x,p.b,c.l],{gap:[0,"gap"]},null),i.Oa(6,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(7,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i.Ga(16777216,null,null,1,null,oe)),i.Oa(9,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(t()(),i.Ga(16777216,null,null,1,null,re)),i.Oa(11,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(t()(),i.Pa(12,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.playAgain.emit()&&i),i},A,S)),i.Oa(13,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],{color:[0,"color"]},null),(t()(),i.eb(-1,0,["Play Again"]))],function(t,e){var n=e.component;t(e,1,0,""),t(e,2,0,"center center"),t(e,4,0,"column"),t(e,5,0,"16px"),t(e,6,0,"start center"),t(e,9,0,n.gameState.ctx.gameover.winner),t(e,11,0,n.gameState.ctx.gameover.draw),t(e,13,0,"accent")},function(t,e){t(e,0,0,void 0),t(e,12,0,i.Ya(e,13).disabled||null,"NoopAnimations"===i.Ya(e,13)._animationMode)})}function se(t){return i.fb(0,[(t()(),i.Ga(0,null,null,0))],null,null)}function ue(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,6,"div",[["style","height: 400px; width: 600px;"]],null,null,null,null,null)),(t()(),i.Ga(16777216,null,null,1,null,le)),i.Oa(2,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(t()(),i.Ga(16777216,null,null,3,null,se)),i.Oa(4,671744,null,0,r.i,[i.O],{ngComponentOutlet:[0,"ngComponentOutlet"]},null),i.Oa(5,16384,null,0,ht,[r.i],null,null),i.Oa(6,933888,null,0,kt,[i.r,i.p,i.j,dt,[2,ht]],{ndcDynamicInputs:[0,"ndcDynamicInputs"]},null)],function(t,e){var n=e.component;t(e,2,0,n.isDone()),t(e,4,0,n.board),t(e,6,0,n.getBoardInputs())},null)}function ce(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"et-waiting",[],null,null,null,Pt,Ct)),i.Oa(1,49152,null,0,_t,[],null,null)],null,null)}function pe(t){return i.fb(0,[(t()(),i.Pa(0,16777216,null,null,5,"button",[["aria-haspopup","true"],["mat-icon-button",""],["style","position: absolute; top: 6px; right: 4px;"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(t,e,n){var a=!0;return"mousedown"===e&&(a=!1!==i.Ya(t,2)._handleMousedown(n)&&a),"keydown"===e&&(a=!1!==i.Ya(t,2)._handleKeydown(n)&&a),"click"===e&&(a=!1!==i.Ya(t,2)._handleClick(n)&&a),a},A,S)),i.Oa(1,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],null,null),i.Oa(2,1196032,null,0,It.f,[St.a,i.k,i.O,It.b,[2,It.c],[8,null],[2,p.b],I.b],{menu:[0,"menu"]},null),(t()(),i.Pa(3,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,O,k)),i.Oa(4,638976,null,0,x.a,[i.k,x.c,[8,null]],null,null),(t()(),i.eb(-1,0,["more_vert"])),(t()(),i.Ga(0,null,null,0))],function(t,e){t(e,2,0,i.Ya(e.parent,20)),t(e,4,0)},function(t,e){t(e,0,0,i.Ya(e,1).disabled||null,"NoopAnimations"===i.Ya(e,1)._animationMode,i.Ya(e,2).menuOpen||null),t(e,3,0,i.Ya(e,4).inline)})}function me(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,42,"div",[["class","mat-elevation-z4"],["fxLayout",""],["style","border: 3px solid #fa4f4f; background-color: white; min-width: 824px; min-height: 510px; height: 80%; width: 80%;"]],null,null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),(t()(),i.Pa(2,0,null,null,8,"div",[["fxFlex",""],["fxLayout",""],["fxLayoutAlign","center center"],["style","position: relative;\n                   box-shadow: inset 0 0 4px 1px rgba(0,0,0,.2), inset 0 0 5px 2px rgba(0,0,0,.14), inset 0 0 10px 1px rgba(0,0,0,.12);"]],null,null,null,null,null)),i.Oa(3,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),i.Oa(4,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(5,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),i.Oa(6,737280,null,0,u.a,[c.h,i.k,[3,u.e],c.l,c.f],{flex:[0,"flex"]},null),(t()(),i.Ga(16777216,null,null,1,null,ue)),i.Oa(8,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,ce)),i.Oa(10,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Pa(11,0,null,null,31,"div",[["fxLayout","column"],["fxLayoutAlign","end"],["style","border-left: 1px solid #fa4f4f; min-width: 220px;"]],null,null,null,null,null)),i.Oa(12,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(13,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Pa(14,0,null,null,17,"div",[["fxLayout","column"],["fxLayoutAlign","end"],["style","height: 100px; min-height: 100px; max-height: 100px; background-color: #fa4f4f; color: white; position: relative;"]],null,null,null,null,null)),i.Oa(15,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(16,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),(t()(),i.Ga(16777216,null,null,1,null,pe)),i.Oa(18,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(t()(),i.Pa(19,0,null,null,7,"mat-menu",[["xPosition","before"]],null,null,null,Mt,Dt)),i.Oa(20,1294336,[["menu",4]],2,It.c,[i.k,i.x,It.a],{xPosition:[0,"xPosition"]},null),i.cb(603979776,1,{items:1}),i.cb(335544320,2,{lazyContent:0}),i.bb(2048,null,It.h,null,[It.c]),(t()(),i.Pa(24,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i.Ya(t,25)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i.Ya(t,25)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.toggleDebug.emit()&&a),a},Tt,Rt)),i.Oa(25,180224,[[1,4]],0,It.d,[i.k,r.c,I.b,[2,It.h]],null,null),(t()(),i.eb(-1,0,["Toggle Debug UI"])),(t()(),i.Pa(27,0,null,null,1,"h2",[["class","mat-headline"],["style","margin-left: 16px;"]],null,null,null,null,null)),(t()(),i.eb(28,null,[" "," "])),(t()(),i.Pa(29,0,null,null,2,"em",[],null,null,null,null,null)),(t()(),i.Pa(30,0,null,null,1,"small",[["style","position: absolute; bottom: 48px; left: 14px;"]],null,null,null,null,null)),(t()(),i.eb(-1,null,["Now playing..."])),(t()(),i.Pa(32,0,null,null,1,"et-player-list",[["style","margin: 0 12px;"]],null,null,null,ee,Zt)),i.Oa(33,49152,null,0,Qt,[],{players:[0,"players"],canPlayerMakeMove:[1,"canPlayerMakeMove"],playerID:[2,"playerID"],gameover:[3,"gameover"]},null),(t()(),i.Pa(34,0,null,null,1,"span",[["fxFlex",""]],null,null,null,null,null)),i.Oa(35,737280,null,0,u.a,[c.h,i.k,[3,u.e],c.l,c.f],{flex:[0,"flex"]},null),(t()(),i.Pa(36,0,null,null,6,"div",[["fxFlex","none"],["fxLayout","column"],["fxLayoutGap","8px"],["style","margin: 12px"]],null,null,null,null,null)),i.Oa(37,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(38,1785856,null,0,u.f,[c.h,i.k,[6,u.e],i.x,p.b,c.l],{gap:[0,"gap"]},null),i.Oa(39,737280,null,0,u.a,[c.h,i.k,[3,u.e],c.l,c.f],{flex:[0,"flex"]},null),(t()(),i.Pa(40,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.leave.emit()&&i),i},A,S)),i.Oa(41,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],null,null),(t()(),i.eb(-1,0,["Leave"]))],function(t,e){var n=e.component;t(e,1,0,""),t(e,3,0,n.isRoomReady),t(e,4,0,""),t(e,5,0,"center center"),t(e,6,0,""),t(e,8,0,!0),t(e,10,0,!1),t(e,12,0,"column"),t(e,13,0,"end"),t(e,15,0,"column"),t(e,16,0,"end"),t(e,18,0,n.debug),t(e,20,0,"before"),t(e,33,0,n.players,n.canPlayerMakeMove,n.playerID,null==n.gameState?null:n.gameState.ctx.gameover),t(e,35,0,""),t(e,37,0,"column"),t(e,38,0,"8px"),t(e,39,0,"none")},function(t,e){var n=e.component;t(e,24,0,i.Ya(e,25)._highlighted,i.Ya(e,25)._triggersSubmenu,i.Ya(e,25)._getTabIndex(),i.Ya(e,25).disabled.toString(),i.Ya(e,25).disabled||null),t(e,28,0,n.game.name),t(e,40,0,i.Ya(e,41).disabled||null,"NoopAnimations"===i.Ya(e,41)._animationMode)})}var de=n("Nsh5"),he=i.Na({encapsulation:2,styles:[],data:{}});function fe(t){return i.fb(2,[i.Xa(null,0)],null,null)}var ye=i.Na({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"translate3d(0, 0, 0)",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function ve(t){return i.fb(2,[i.Xa(null,0)],null,null)}var be=i.Na({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media screen and (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media screen and (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media screen and (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-sidenav-fixed{position:fixed}"],data:{}});function ge(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component._onBackdropClicked()&&i),i},null,null))],null,function(t,e){t(e,0,0,e.component._isShowingBackdrop())})}function xe(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,3,"mat-drawer-content",[["cdkScrollable",""],["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,fe,he)),i.Oa(1,212992,[[1,4]],0,Et.a,[i.k,Et.c,i.x],null,null),i.Oa(2,1097728,null,0,de.d,[i.h,de.c],null,null),i.Xa(0,2)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,i.Ya(e,2)._container._contentMargins.left,i.Ya(e,2)._container._contentMargins.right)})}function we(t){return i.fb(2,[i.cb(671088640,1,{scrollable:0}),(t()(),i.Ga(16777216,null,null,1,null,ge)),i.Oa(2,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),i.Xa(null,0),i.Xa(null,1),(t()(),i.Ga(16777216,null,null,1,null,xe)),i.Oa(6,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)},null)}var ke=function(){return function(){this.close=new i.m,this.step=new i.m}}(),Oe=i.Na({encapsulation:0,styles:[[""]],data:{}});function _e(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,8,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,R,M)),i.Oa(1,4243456,null,1,N.a,[i.k,C.a,r.c],{color:[0,"color"]},null),i.cb(603979776,1,{_toolbarRows:1}),(t()(),i.Pa(3,0,null,0,4,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.close.emit()&&i),i},A,S)),i.Oa(4,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],null,null),(t()(),i.Pa(5,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,O,k)),i.Oa(6,638976,null,0,x.a,[i.k,x.c,[8,null]],null,null),(t()(),i.eb(-1,0,["close"])),(t()(),i.eb(-1,0,[" Debug Panel\n"])),(t()(),i.Pa(9,0,null,null,4,"div",[["fxLayout","column"],["style","padding: 16px;"]],null,null,null,null,null)),i.Oa(10,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),(t()(),i.Pa(11,0,null,null,2,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.step.emit()&&i),i},A,S)),i.Oa(12,180224,null,0,_.b,[i.k,C.a,I.b,[2,P.a]],null,null),(t()(),i.eb(-1,0,["auto step"]))],function(t,e){t(e,1,0,"primary"),t(e,6,0),t(e,10,0,"column")},function(t,e){t(e,0,0,i.Ya(e,1)._toolbarRows.length>0,0===i.Ya(e,1)._toolbarRows.length),t(e,3,0,i.Ya(e,4).disabled||null,"NoopAnimations"===i.Ya(e,4)._animationMode),t(e,5,0,i.Ya(e,6).inline),t(e,11,0,i.Ya(e,12).disabled||null,"NoopAnimations"===i.Ya(e,12)._animationMode)})}var Ce=n("n1QK"),Pe=n("ANjH"),Ie=new Set(["RESTORE"]),Se=function(){function t(t){var e=t.gameID,n=t.playerID,i=t.gameName,a=t.numPlayers;this.server=t.server,this.gameName=i||"default",this.gameID=this.gameName+":"+(e||"default"),this.playerID=n||null,this.numPlayers=a||2,this.isConnected=!1}return t.prototype.updateGameID=function(t){},t.prototype.updatePlayerID=function(t){},t.prototype.connect=function(){var t=this;this.server.onMessage.add(function(e){if("sync"===e.msgType&&e.state._stateID>=t.store.getState()._stateID){var n=(t=>({type:"RESTORE",state:t}))(e.state);n._remote=!0,t.store.dispatch(n)}})},t.prototype.subscribe=function(t){},t.prototype.createStore=function(t,e){var n=this;this.store=null;var i=Object(Pe.applyMiddleware)(function(t){var e=t.getState;return function(t){return function(i){var a=e(),o=t(i);return Ie.has(i.type)||!0===i._remote||n.server.send({msgType:"action",action:i,_stateID:a._stateID,gameID:n.gameID,playerID:n.playerID}),o}}});return e=e?Object(Pe.compose)(e,i):i,this.store=Object(Pe.createStore)(t,e),this.store},t}(),Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m.__extends)(e,t),e.prototype.createMultiplayerClient=function(t){return new Se(t)},e}(Ce.Client),Ee=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},De=function(){function t(){var t=this;this.gameID="default",this.playerID=null,this.credentials=null,this.debug=!0,this.leave=new i.m,this.playAgain=function(){t.client.reset()},this.getBoardInputs=this.getBoardInputs.bind(this)}return t.prototype.ngOnChanges=function(t){var e=this;if(t.isRoomReady){if(!t.isRoomReady.currentValue&&t.isRoomReady.previousValue)throw new Error("we don't support a room moving back from ready state (yet)");t.isRoomReady.currentValue&&(this.client=new Ae({game:this.game,ai:this.ai,numPlayers:this.numPlayers,multiplayer:this.multiplayer,gameID:this.gameID,playerID:this.playerID,credentials:this.credentials,enhancer:this.ai?Object(Pe.applyMiddleware)(function(t){return function(n){return function(i){n(i),"1"===t.getState().ctx.currentPlayer&&setTimeout(function(){e.client.step()},300)}}}):void 0}),this.client.connect())}this.client&&(t.gameID&&t.gameID.currentValue!==t.gameID.previousValue&&this.client.updateGameID(t.gameID.currentValue),t.playerID&&t.playerID.currentValue!==t.playerID.previousValue&&this.client.updatePlayerID(t.playerID.currentValue),t.credentials&&t.credentials.currentValue!==t.credentials.previousValue&&this.client.updateCredentials(t.credentials.currentValue))},t.prototype.getBoardInputs=function(){var t=this.client.getState();return Ee({},t,{moves:this.client.moves,events:this.client.events,gameID:this.gameID,playerID:this.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo})},t}(),Ne=i.Na({encapsulation:2,styles:[],data:{animation:[{type:7,name:"fadeInUp",definitions:[{type:1,expr:":enter",animation:{type:10,animation:{type:8,animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:1},offset:null}]},timings:"{{ timing }}s {{ delay }}s"},options:{params:{timing:1,delay:0,a:"100%",b:0}}},options:{params:{timing:"0.3",a:"12px"}}},options:null}],options:{}}]}});function Me(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"et-room",[],[[24,"@fadeInUp",0]],[[null,"leave"],[null,"toggleDebug"],[null,"playAgain"]],function(t,e,n){var a=!0,o=t.component;return"leave"===e&&(a=!1!==o.leave.emit()&&a),"toggleDebug"===e&&(a=!1!==i.Ya(t.parent,5).toggle()&&a),"playAgain"===e&&(a=!1!==o.playAgain()&&a),a},me,ie)),i.Oa(1,49152,null,0,ne,[],{gameState:[0,"gameState"],game:[1,"game"],isRoomReady:[2,"isRoomReady"],playerID:[3,"playerID"],players:[4,"players"],board:[5,"board"],getBoardInputs:[6,"getBoardInputs"],debug:[7,"debug"]},{leave:"leave",toggleDebug:"toggleDebug",playAgain:"playAgain"})],function(t,e){var n=e.component;t(e,1,0,null==n.client?null:n.client.getState(),n.game,n.isRoomReady,n.playerID,n.players,n.board,n.getBoardInputs,n.debug)},function(t,e){t(e,0,0,void 0)})}function Re(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,15,"mat-drawer-container",[["class","mat-drawer-container"],["style","height: 100%; background-color: transparent;"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,we,be)),i.Oa(1,1490944,null,2,de.c,[[2,p.b],i.k,i.x,i.h,de.a,[2,P.a]],null,null),i.cb(603979776,1,{_drawers:1}),i.cb(335544320,2,{_content:0}),(t()(),i.Pa(4,0,null,0,3,"mat-drawer",[["class","mat-elevation-z4 mat-drawer"],["mode","side"],["position","end"],["style","width: 200px;"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null]],[["component","@transform.start"],["component","@transform.done"]],function(t,e,n){var a=!0;return"component:@transform.start"===e&&(a=!1!==i.Ya(t,5)._onAnimationStart(n)&&a),"component:@transform.done"===e&&(a=!1!==i.Ya(t,5)._onAnimationEnd(n)&&a),a},ve,ye)),i.Oa(5,3325952,[[1,4],["drawer",4]],0,de.b,[i.k,I.c,I.b,C.a,i.x,[2,r.c]],{position:[0,"position"],mode:[1,"mode"]},null),(t()(),i.Pa(6,0,null,0,1,"et-debug",[],null,[[null,"close"],[null,"step"]],function(t,e,n){var a=!0,o=t.component;return"close"===e&&(a=!1!==i.Ya(t,5).close()&&a),"step"===e&&(a=!1!==o.client.step()&&a),a},_e,Oe)),i.Oa(7,49152,null,0,ke,[],null,{close:"close",step:"step"}),(t()(),i.Pa(8,0,null,1,7,"mat-drawer-content",[["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,fe,he)),i.Oa(9,1097728,[[2,4]],0,de.d,[i.h,de.c],null,null),(t()(),i.Pa(10,0,null,0,5,"div",[["fxFlexFill",""],["fxLayout",""],["fxLayoutAlign","center center"]],null,null,null,null,null)),i.Oa(11,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(12,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),i.Oa(13,737280,null,0,u.b,[c.h,i.k,c.l],null,null),(t()(),i.Ga(16777216,null,null,1,null,Me)),i.Oa(15,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0),t(e,5,0,"end","side"),t(e,11,0,""),t(e,12,0,"center center"),t(e,13,0),t(e,15,0,n.game)},function(t,e){t(e,0,0,i.Ya(e,1)._backdropOverride),t(e,4,0,i.Ya(e,5)._animationState,null,"end"===i.Ya(e,5).position,"over"===i.Ya(e,5).mode,"push"===i.Ya(e,5).mode,"side"===i.Ya(e,5).mode),t(e,8,0,i.Ya(e,9)._container._contentMargins.left,i.Ya(e,9)._container._contentMargins.right)})}var Te=n("67Y/"),je={"tic-tac-toe":d};function Le(t){return je[t]}var Be=function(){},Ge=function(t,e,n,i){return new(n||(n=Promise))(function(a,o){function r(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(r,l)}s((i=i.apply(t,e||[])).next())})},ze=function(t,e){var n,i,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(6===o[0]&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=e.call(t,r)}catch(t){o=[6,t],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Fe=function(){function t(t,e,n){var i=this;this.route=t,this.router=e,this.colyseus=n,this.playAgain=function(){i.room.onLeave.addOnce(function(){return Ge(i,void 0,void 0,function(){var t;return ze(this,function(e){switch(e.label){case 0:return[4,this.colyseus.joinWhenReady(this.room.name,{accessToken:localStorage.getItem("access_token"),gameName:this.Game.name})];case 1:return t=e.sent(),delete this.room,this.router.navigate(["..",t.id],{relativeTo:this.route}),[2]}})})}),i.room.leave()}}return t.prototype.ngOnInit=function(){var t=this;this.route.paramMap.pipe(Object(Te.a)(function(e){return[t.colyseus.getConnectedRoom(e.get("roomId")),e.get("gameName")]})).subscribe(function(e){var n=e[0],i=e[1];if(n){t.room&&t.room.leave(),t.room=n;var a=it(i);a&&(t.Game=a.Game,t.BoardComponent=Le(i))}else t.router.navigate(["../../.."],{relativeTo:t.route})})},t.prototype.leave=function(){this.router.navigate(["../../.."],{relativeTo:this.route})},t.prototype.ngOnDestroy=function(){this.room&&this.room.leave()},t.prototype.getPlayerId=function(){var t=this;if(this.room&&this.room.state.players){var e=this.room.state.players.find(function(e){return e.id===t.room.sessionId});return e&&e.playerID}},t}(),Ue=i.Na({encapsulation:2,styles:[],data:{}});function Ye(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,4,"div",[["class","mat-headline"],["fxFlexFill",""],["fxLayout",""],["fxLayoutAlign","center center"],["style","color: white;"]],null,null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(2,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),i.Oa(3,737280,null,0,u.b,[c.h,i.k,c.l],null,null),(t()(),i.eb(-1,null,[" Game Not Found "]))],function(t,e){t(e,1,0,""),t(e,2,0,"center center"),t(e,3,0)},null)}function We(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,6,null,null,null,null,null,null,null)),i.Oa(1,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),i.Ga(16777216,null,null,1,null,Ye)),i.Oa(3,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Pa(4,0,null,null,2,"et-client",[],null,[[null,"leave"]],function(t,e,n){var i=!0;return"leave"===e&&(i=!1!==t.component.leave()&&i),i},Re,Ne)),i.Oa(5,573440,null,0,De,[],{game:[0,"game"],board:[1,"board"],multiplayer:[2,"multiplayer"],gameID:[3,"gameID"],playerID:[4,"playerID"],isRoomReady:[5,"isRoomReady"],players:[6,"players"],debug:[7,"debug"],playAgain:[8,"playAgain"]},{leave:"leave"}),i.ab(6,{server:0})],function(t,e){var n=e.component;t(e,1,0,!!n.Game),t(e,3,0,!1),t(e,5,0,n.Game,n.BoardComponent,t(e,6,0,n.room),null==n.room?null:n.room.id,n.getPlayerId(),null==n.room?null:n.room.state.isReady,null==n.room?null:n.room.state.players,!1,n.playAgain)},null)}var qe=i.La("ng-component",Fe,function(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"ng-component",[],null,null,null,We,Ue)),i.Oa(1,245760,null,0,Fe,[L.a,L.k,F],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ve={state:{isReady:!0,players:[{playerID:"0",profile:{nickname:"Player 1",picture:"https://api.adorable.io/avatars/162/itsME@adorable.png"},color:"rgb(102,127,203)"},{playerID:"1",profile:{nickname:"ai",picture:"https://api.adorable.io/avatars/162/itsME2@adorable.png"},color:"rgb(234, 123, 123)"}]}},He=function(){function t(t,e){var n=this;this.route=t,this.router=e,this.room=Ve,t.paramMap.subscribe(function(t){var e=t.get("gameName"),i=it(e);i&&(n.Game=i.Game,n.ai=i.ai,n.BoardComponent=Le(e))})}return t.prototype.leave=function(){this.router.navigate(["../.."],{relativeTo:this.route})},t}(),Xe=i.Na({encapsulation:2,styles:[],data:{}});function Je(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,4,"div",[["class","mat-headline"],["fxFlexFill",""],["fxLayout",""],["fxLayoutAlign","center center"],["style","color: white;"]],null,null,null,null,null)),i.Oa(1,737280,null,0,u.e,[c.h,i.k,c.l],{layout:[0,"layout"]},null),i.Oa(2,737280,null,0,u.d,[c.h,i.k,[6,u.e],c.l],{align:[0,"align"]},null),i.Oa(3,737280,null,0,u.b,[c.h,i.k,c.l],null,null),(t()(),i.eb(-1,null,[" Game Not Found "]))],function(t,e){t(e,1,0,""),t(e,2,0,"center center"),t(e,3,0)},null)}function Ke(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"et-client",[["gameID","gameID"],["playerID","0"]],null,[[null,"leave"]],function(t,e,n){var i=!0;return"leave"===e&&(i=!1!==t.component.leave()&&i),i},Re,Ne)),i.Oa(1,573440,null,0,De,[],{game:[0,"game"],board:[1,"board"],ai:[2,"ai"],gameID:[3,"gameID"],playerID:[4,"playerID"],isRoomReady:[5,"isRoomReady"],players:[6,"players"]},{leave:"leave"})],function(t,e){var n=e.component;t(e,1,0,n.Game,n.BoardComponent,n.ai,"gameID","0",n.room.state.isReady,n.room.state.players)},null)}function $e(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,5,null,null,null,null,null,null,null)),i.Oa(1,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),i.Ga(16777216,null,null,1,null,Je)),i.Oa(3,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),i.Ga(16777216,null,null,1,null,Ke)),i.Oa(5,278528,null,0,r.p,[i.O,i.L,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){t(e,1,0,!!e.component.Game),t(e,3,0,!1),t(e,5,0,!0)},null)}var Qe=i.La("ng-component",He,function(t){return i.fb(0,[(t()(),i.Pa(0,0,null,null,1,"ng-component",[],null,null,null,$e,Xe)),i.Oa(1,49152,null,0,He,[L.a,L.k],null,null)],null,null)},{},{},[]),Ze=n("FVSy"),tn=n("vGXY"),en=n("Z+uX"),nn=n("hUWP"),an=n("3pJQ"),on=n("V9q+"),rn=n("vvyD");n.d(e,"MainModuleNgFactory",function(){return ln});var ln=i.Ma(a,[],function(t){return i.Va([i.Wa(512,i.j,i.Ba,[[8,[o.a,g,$,st,qe,Qe]],[3,i.j],i.v]),i.Wa(4608,r.m,r.l,[i.s,[2,r.w]]),i.Wa(4608,St.a,St.a,[St.g,St.c,i.j,St.f,St.d,i.p,i.x,r.c,p.b]),i.Wa(5120,St.h,St.i,[St.a]),i.Wa(5120,It.b,It.g,[St.a]),i.Wa(4608,c.j,c.i,[c.d,c.g]),i.Wa(5120,i.b,function(t,e){return[c.m(t,e)]},[r.c,i.z]),i.Wa(1073742336,r.b,r.b,[]),i.Wa(1073742336,L.m,L.m,[[2,L.s],[2,L.k]]),i.Wa(1073742336,p.a,p.a,[]),i.Wa(1073742336,w.h,w.h,[[2,w.b]]),i.Wa(1073742336,Lt.a,Lt.a,[]),i.Wa(1073742336,Ze.a,Ze.a,[]),i.Wa(1073742336,C.b,C.b,[]),i.Wa(1073742336,w.s,w.s,[]),i.Wa(1073742336,_.c,_.c,[]),i.Wa(1073742336,x.b,x.b,[]),i.Wa(1073742336,tn.a,tn.a,[]),i.Wa(1073742336,N.b,N.b,[]),i.Wa(1073742336,Et.b,Et.b,[]),i.Wa(1073742336,de.h,de.h,[]),i.Wa(1073742336,w.j,w.j,[]),i.Wa(1073742336,w.q,w.q,[]),i.Wa(1073742336,jt.d,jt.d,[]),i.Wa(1073742336,en.a,en.a,[]),i.Wa(1073742336,At.b,At.b,[]),i.Wa(1073742336,St.e,St.e,[]),i.Wa(1073742336,It.e,It.e,[]),i.Wa(1073742336,c.e,c.e,[]),i.Wa(1073742336,u.c,u.c,[]),i.Wa(1073742336,nn.a,nn.a,[]),i.Wa(1073742336,an.a,an.a,[]),i.Wa(1073742336,on.a,on.a,[[2,c.k],i.z]),i.Wa(1073742336,rn.a,rn.a,[]),i.Wa(1073742336,s,s,[]),i.Wa(1073742336,Be,Be,[]),i.Wa(1073742336,ct,ct,[]),i.Wa(1073742336,Ot,Ot,[]),i.Wa(1073742336,a,a,[]),i.Wa(1024,L.i,function(){return[[{path:"",component:Y,children:[{path:"",component:at,pathMatch:"full"},{path:":gameName",children:[{path:"rooms/:roomId",component:Fe},{path:"singleplayer",component:He}]}]}]]},[]),i.Wa(256,dt,ft,[])])})},oLdw:function(t,e,n){"use strict";function i(t,e){var n=t.slice();return n.push(e),n}function a(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var i=[];for(var a in t)t.hasOwnProperty(a)&&i.push(a);return i}Object.defineProperty(e,"__esModule",{value:!0}),e.compare=function(t,e){var n=[];return function t(e,n,o,r){for(var l=a(n),s=a(e),u=!1,c=s.length-1;c>=0;c--){var p=e[d=s[c]];if(!n.hasOwnProperty(d)||void 0===n[d]&&void 0!==p&&!1===Array.isArray(n))o.push({operation:"remove",path:i(r,d)}),u=!0;else{var m=n[d];"object"==typeof p&&null!=p&&"object"==typeof m&&null!=m?t(p,m,o,i(r,d)):p!==m&&o.push({operation:"replace",path:i(r,d),value:m,previousValue:p})}}if(u||l.length!=s.length)for(c=l.length-1;c>=0;c--){var d;if(!e.hasOwnProperty(d=l[c])&&void 0!==n[d]){m=n[d];var h=i(r,d);"object"==typeof m&&null!=m&&t({},m,o,h),o.push({operation:"add",path:h,value:m})}}}(t,e,n,[]),n}},"q/Ue":function(t,e,n){var i=n("yeub");t.exports=function(t){var e=t.xdomain,n=t.xscheme,a=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&a)return new XDomainRequest}catch(t){}if(!e)try{return new(global[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},"uwJ/":function(t,e,n){"use strict";function i(t,e,n){for(var i=0,a=0,o=n.length;a<o;a++)(i=n.charCodeAt(a))<128?t.setUint8(e++,i):i<2048?(t.setUint8(e++,192|i>>6),t.setUint8(e++,128|63&i)):i<55296||i>=57344?(t.setUint8(e++,224|i>>12),t.setUint8(e++,128|i>>6&63),t.setUint8(e++,128|63&i)):(i=65536+((1023&i)<<10|1023&n.charCodeAt(++a)),t.setUint8(e++,240|i>>18),t.setUint8(e++,128|i>>12&63),t.setUint8(e++,128|i>>6&63),t.setUint8(e++,128|63&i))}t.exports=function(t){var e=[],n=[],a=function t(e,n,i){var a=typeof i,o=0,r=0,l=0,s=0,u=0,c=0;if("string"===a){if((u=function(t){for(var e=0,n=0,i=0,a=t.length;i<a;i++)(e=t.charCodeAt(i))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}(i))<32)e.push(160|u),c=1;else if(u<256)e.push(217,u),c=2;else if(u<65536)e.push(218,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("String too long");e.push(219,u>>24,u>>16,u>>8,u),c=5}return n.push({str:i,length:u,offset:e.length}),c+u}if("number"===a)return Math.floor(i)===i&&isFinite(i)?i>=0?i<128?(e.push(i),1):i<256?(e.push(204,i),2):i<65536?(e.push(205,i>>8,i),3):i<4294967296?(e.push(206,i>>24,i>>16,i>>8,i),5):(l=i/Math.pow(2,32)>>0,e.push(207,l>>24,l>>16,l>>8,l,(s=i>>>0)>>24,s>>16,s>>8,s),9):i>=-32?(e.push(i),1):i>=-128?(e.push(208,i),2):i>=-32768?(e.push(209,i>>8,i),3):i>=-2147483648?(e.push(210,i>>24,i>>16,i>>8,i),5):(l=Math.floor(i/Math.pow(2,32)),e.push(211,l>>24,l>>16,l>>8,l,(s=i>>>0)>>24,s>>16,s>>8,s),9):(e.push(203),n.push({float:i,length:8,offset:e.length}),9);if("object"===a){if(null===i)return e.push(192),1;if(Array.isArray(i)){if((u=i.length)<16)e.push(144|u),c=1;else if(u<65536)e.push(220,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("Array too large");e.push(221,u>>24,u>>16,u>>8,u),c=5}for(o=0;o<u;o++)c+=t(e,n,i[o]);return c}if(i instanceof Date){var p=i.getTime();return l=Math.floor(p/Math.pow(2,32)),e.push(215,0,l>>24,l>>16,l>>8,l,(s=p>>>0)>>24,s>>16,s>>8,s),10}if(i instanceof ArrayBuffer){if((u=i.byteLength)<256)e.push(196,u),c=2;else if(u<65536)e.push(197,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("Buffer too large");e.push(198,u>>24,u>>16,u>>8,u),c=5}return n.push({bin:i,length:u,offset:e.length}),c+u}if("function"==typeof i.toJSON)return t(e,n,i.toJSON());var m=[],d="",h=Object.keys(i);for(o=0,r=h.length;o<r;o++)"function"!=typeof i[d=h[o]]&&m.push(d);if((u=m.length)<16)e.push(128|u),c=1;else if(u<65536)e.push(222,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("Object too large");e.push(223,u>>24,u>>16,u>>8,u),c=5}for(o=0;o<u;o++)c+=t(e,n,d=m[o]),c+=t(e,n,i[d]);return c}if("boolean"===a)return e.push(i?195:194),1;if("undefined"===a)return e.push(212,0,0),3;throw new Error("Could not encode")}(e,n,t),o=new ArrayBuffer(a),r=new DataView(o),l=0,s=0,u=-1;n.length>0&&(u=n[0].offset);for(var c,p=0,m=0,d=0,h=e.length;d<h;d++)if(r.setUint8(s+d,e[d]),d+1===u){if(p=(c=n[l]).length,m=s+u,c.bin)for(var f=new Uint8Array(c.bin),y=0;y<p;y++)r.setUint8(m+y,f[y]);else c.str?i(r,m,c.str):void 0!==c.float&&r.setFloat64(m,c.float);s+=p,n[++l]&&(u=n[l].offset)}return o}},vFzs:function(t,e,n){var i=n("1o1O")("socket.io-parser"),a=n("cpc2"),o=n("G0vE"),r=n("flNN"),l=n("TFTZ");function s(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=s,e.Decoder=p;var u=e.ERROR+'"encode error"';function c(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var a=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===a)return u;n+=a}return i("encoded %j as %s",t,n),n}function p(){this.reconstructor=null}function m(t){this.reconPack=t,this.buffers=[]}function d(t){return{type:e.ERROR,data:"parser error: "+t}}s.prototype.encode=function(t,n){i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?function(t,e){o.removeBlobs(t,function(t){var n=o.deconstructPacket(t),i=c(n.packet),a=n.buffers;a.unshift(i),e(a)})}(t,n):n([c(t)])},a(p.prototype),p.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,a={type:Number(t.charAt(0))};if(null==e.types[a.type])return d("unknown packet type "+a.type);if(e.BINARY_EVENT===a.type||e.BINARY_ACK===a.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");a.attachments=Number(o)}if("/"===t.charAt(n+1))for(a.nsp="";++n&&","!==(s=t.charAt(n))&&(a.nsp+=s,n!==t.length););else a.nsp="/";var l=t.charAt(n+1);if(""!==l&&Number(l)==l){for(a.id="";++n;){var s;if(null==(s=t.charAt(n))||Number(s)!=s){--n;break}if(a.id+=t.charAt(n),n===t.length)break}a.id=Number(a.id)}if(t.charAt(++n)){var u=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!1===u||a.type!==e.ERROR&&!r(u))return d("invalid payload");a.data=u}return i("decoded %s as %j",t,a),a}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new m(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!l(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},m.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},m.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},wWaW:function(t,e,n){var i=n("/4bP"),a=n("cpc2");function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,a(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},woCW:function(t,e,n){"use strict";var i=n("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var a=n("QAoe"),o=n("FYgB"),r=n("3Hso"),l=n("RN1w"),s=n("ckdo"),u=n("cihy"),c=n("zooS");e.Room=function(t){function e(e,n){var i=t.call(this,{})||this;return i.clock=new a,i.remoteClock=new a,i.onJoin=new o.Signal,i.onStateChange=new o.Signal,i.onMessage=new o.Signal,i.onError=new o.Signal,i.onLeave=new o.Signal,i.id=null,i.name=e,i.options=n,i.connection=new u.Connection(void 0,!1),i.onLeave.add(function(){return i.removeAllListeners()}),i}return i(e,t),e.prototype.connect=function(t){var e=this;this.connection.url=t,this.connection.reconnectEnabled=!1,this.connection.onmessage=this.onMessageCallback.bind(this),this.connection.onclose=function(t){return e.onLeave.dispatch(t)},this.connection.onerror=function(t){console.warn("Possible causes: room's onAuth() failed or maxClients has been reached."),e.onError.dispatch(t)},this.connection.open()},e.prototype.leave=function(){this.connection?this.connection.send([c.Protocol.LEAVE_ROOM]):this.onLeave.dispatch()},e.prototype.send=function(t){this.connection.send([c.Protocol.ROOM_DATA,this.id,t])},e.prototype.removeAllListeners=function(){t.prototype.removeAllListeners.call(this),this.onJoin.removeAll(),this.onStateChange.removeAll(),this.onMessage.removeAll(),this.onError.removeAll(),this.onLeave.removeAll()},e.prototype.onMessageCallback=function(t){var e=s.decode(new Uint8Array(t.data)),n=e[0];n===c.Protocol.JOIN_ROOM?(this.sessionId=e[1],this.onJoin.dispatch()):n===c.Protocol.JOIN_ERROR?(console.error("Error: "+e[1]),this.onError.dispatch(e[1])):n===c.Protocol.ROOM_STATE?this.setState(e[1],e[2],e[3]):n===c.Protocol.ROOM_STATE_PATCH?this.patch(e[1]):n===c.Protocol.ROOM_DATA?this.onMessage.dispatch(e[1]):n===c.Protocol.LEAVE_ROOM&&this.leave()},e.prototype.setState=function(t,e,n){var i=s.decode(t);this.set(i),this._previousState=new Uint8Array(t),e&&n&&(this.remoteClock.currentTime=e,this.remoteClock.elapsedTime=n),this.clock.start(),this.onStateChange.dispatch(i)},e.prototype.patch=function(t){this._previousState=Buffer.from(l.apply(this._previousState,t)),this.set(s.decode(this._previousState)),this.onStateChange.dispatch(this.state)},e}(r.StateContainer)},y9Ne:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("kSP7");function a(t,e,n,i){return void 0===e&&(e="var"),function(a,o){a.constructor.properties||(a.constructor.properties={});var r=o;"string"==typeof t&&(r=o,o=t,t=void 0),a.constructor.properties[o]={addCallback:n,holderType:e,removeCallback:i,type:t,variable:r}}}e.initializeSync=function(t,e){r(t,e,e)},e.syncMap=function(t,e,n){return a(t,"map",e,n)},e.syncObject=function(t,e,n){return a(t,"object",e,n)},e.syncVar=function(t,e,n){return a(t,"var")},e.syncList=function(t,e,n){return a(t,"list",e,n)},e.key=function(){return a(void 0,"key")},e.room=function(){return function(t,e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t.constructor.$room}})}},e.sync=a,e.listen=function(t,e){return function(n,i,a){n.constructor.listeners||(n.constructor.listeners={}),n.constructor.listeners[t]={methodName:i,op:e}}};var o={};function r(t,e,n,a){!function(t,e,n,a,l){if(t)for(var s in Object.defineProperty(n,"$room",{configurable:!0,enumerable:!1,value:e,writable:!0}),n.$room=e,t)if(t.hasOwnProperty(s)){var u=t[s],c=l?l+"/"+s:s;if("map"===u.holderType&&(c+="/:id"),o[c])return;o[c]=!0;var p=i[u.holderType+"Listener"];p&&(e.listen(c,p(e,u,n,a,c)),u.type&&r(e,u.type,n,c))}}(e.constructor.properties||e.properties,t,e,n,a),l(e.constructor.listeners,t,e)}function l(t,e,n){if(t){var i=function(i){if(!t.hasOwnProperty(i))return"continue";var a=t[i],o=a.op?function(t){t.operation===a.op&&n[a.methodName](t)}:n[a.methodName].bind(n);e.listen(i,o)};for(var a in t)i(a)}}e.createBindings=r,e.bindListeners=l},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},zMFY:function(t,e){function n(){}t.exports=function(t,e,i){var a=!1;return i=i||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(a=!0,e(t),e=i):0!==o.count||a||e(null,n)}}},zZ8E:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("QW+4");var i=n("ZOD7");e.Client=i.Client;var a=n("zooS");e.Protocol=a.Protocol;var o=n("woCW");e.Room=o.Room;var r=n("y9Ne");e.initializeSync=r.initializeSync,e.sync=r.sync,e.syncMap=r.syncMap,e.syncObject=r.syncObject,e.syncVar=r.syncVar,e.syncList=r.syncList,e.key=r.key,e.room=r.room,e.listen=r.listen},zooS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Protocol=function(t){return t[t.USER_ID=1]="USER_ID",t[t.JOIN_ROOM=10]="JOIN_ROOM",t[t.JOIN_ERROR=11]="JOIN_ERROR",t[t.LEAVE_ROOM=12]="LEAVE_ROOM",t[t.ROOM_DATA=13]="ROOM_DATA",t[t.ROOM_STATE=14]="ROOM_STATE",t[t.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",t[t.ROOM_LIST=20]="ROOM_LIST",t[t.BAD_REQUEST=50]="BAD_REQUEST",t}(e.Protocol||{})}}]);